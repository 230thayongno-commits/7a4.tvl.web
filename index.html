<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>7A4 GALAXY COMMAND ‚Äî 3.0</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0a0f1a;
      --bg2:#101a33;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(0,0,0,.25);
      --border: rgba(255,255,255,.14);
      --txt:#eaf1ff;
      --muted: rgba(234,241,255,.7);
      --good: rgba(0,255,120,.9);
      --bad: rgba(255,80,80,.95);
      --accent:#6ae4ff;
      --accent2:#a855f7;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:"Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--txt);
      background: radial-gradient(1200px 800px at 20% 10%, rgba(106,228,255,.12), transparent 60%),
                  radial-gradient(1000px 700px at 80% 30%, rgba(168,85,247,.12), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }

    /* Header */
    header{
      position: sticky;
      top:0;
      z-index:100;
      padding: 14px 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      backdrop-filter: blur(14px);
      background: rgba(0,0,0,.22);
      border-bottom: 1px solid var(--border);
    }
    .brand{
      display:flex; flex-direction:column; gap:2px;
      line-height:1.1;
    }
    .brand .title{
      font-weight:800; letter-spacing:.3px;
      font-size:1.05rem;
    }
    .brand .sub{
      font-size:.78rem; color:var(--muted);
    }

    .header-right{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }

    .chip{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      padding: 8px 10px;
      border-radius: 999px;
      font-size:.8rem;
      color:var(--muted);
      display:flex; align-items:center; gap:8px;
      user-select:none;
    }

    .btn{
      border:none;
      cursor:pointer;
      padding:10px 12px;
      border-radius: 14px;
      font-weight:700;
      color:#001018;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn.ghost{
      background: rgba(255,255,255,.06);
      color: var(--txt);
      border:1px solid var(--border);
      box-shadow:none;
    }

    /* Layout */
    .container{
      max-width: 1200px;
      margin: 0 auto;
      padding: 18px;
    }

    /* Update note */
    .update-note{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      border-radius: 18px;
      padding: 14px 14px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      box-shadow: 0 18px 45px rgba(0,0,0,.25);
      margin-bottom: 14px;
    }
    .update-note .badge{
      width:42px; height:42px; border-radius:14px;
      display:grid; place-items:center;
      background: rgba(106,228,255,.12);
      border:1px solid rgba(106,228,255,.25);
      flex:0 0 auto;
      font-size:1.2rem;
    }
    .update-note .txt b{ font-weight:800; }
    .update-note .txt{
      font-size:.92rem; color:var(--muted);
      line-height:1.45;
    }

    /* Theme selector */
    .theme-row{
      display:flex; gap:10px; flex-wrap:wrap;
      margin: 12px 0 18px;
    }
    .theme{
      flex:1 1 220px;
      border-radius: 20px;
      padding: 14px 14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .18s ease, border-color .18s ease;
      min-height: 90px;
    }
    .theme:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.22); }
    .theme.active{ border-color: rgba(106,228,255,.45); }
    .theme .tname{ font-weight:800; font-size:1rem; }
    .theme .tdesc{ font-size:.82rem; color:var(--muted); margin-top:6px; }

    /* Menu cards */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width: 900px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 560px){
      .grid{ grid-template-columns: 1fr; }
    }

    .mission-card{
      border-radius: 22px;
      padding: 16px 16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      box-shadow: 0 18px 45px rgba(0,0,0,.28);
      cursor:pointer;
      position:relative;
      overflow:hidden;
      min-height: 140px;
      transition: transform .18s ease, border-color .18s ease;
    }
    .mission-card:hover{
      transform: translateY(-3px);
      border-color: rgba(255,255,255,.22);
    }

    .mission-icon{
      font-size: 2rem;
      display:inline-block;
      margin-bottom: 10px;
    }
    .mission-name{
      font-weight:800;
      font-size:1.05rem;
      margin-bottom: 6px;
    }
    .mission-desc{
      font-size:.85rem;
      color: var(--muted);
      line-height: 1.35;
    }

    /* Overlay game */
    .overlay{
      position:fixed; inset:0;
      display:none;
      z-index:200;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      align-items:center;
      justify-content:center;
      padding: 16px;
    }
    .panel{
      width:min(920px, 100%);
      border-radius: 26px;
      border:1px solid var(--border);
      background: rgba(10,14,25,.88);
      box-shadow: 0 30px 70px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .panel-head{
      padding: 14px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .panel-title{
      font-weight:900; letter-spacing:.3px;
      font-size:1rem;
    }
    .panel-tag{
      font-size:.78rem; color:var(--muted);
      margin-top:4px;
    }
    .panel-body{
      padding: 16px;
      display:grid;
      grid-template-columns: 1fr 340px;
      gap: 14px;
    }
    @media (max-width: 860px){
      .panel-body{ grid-template-columns: 1fr; }
    }

    .card{
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      padding: 14px;
    }

    .q-title{
      font-weight:900;
      font-size:1.1rem;
      margin: 0 0 10px;
    }
    .q-text{
      font-size:1rem;
      line-height:1.5;
      color: rgba(234,241,255,.95);
      margin: 0;
    }

    .answer-wrap{
      display:flex;
      gap:10px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    .answer-input{
      width:min(320px, 84vw);
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.20);
      background:rgba(0,0,0,.22);
      color:#fff;
      outline:none;
      font-size:1.05rem;
      text-align:center;
    }
    .answer-input.ok{
      border-color: rgba(0,255,120,.55);
      box-shadow: 0 0 0 4px rgba(0,255,120,.12);
    }
    .answer-input.bad{
      border-color: rgba(255,80,80,.55);
      box-shadow: 0 0 0 4px rgba(255,80,80,.12);
    }

    .btn-confirm{
      border:none;
      cursor:pointer;
      padding: 12px 14px;
      border-radius: 16px;
      font-weight:900;
      letter-spacing:.3px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color:#001018;
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      transition: transform .15s ease;
    }
    .btn-confirm:active{ transform: scale(.98); }
    .btn-confirm.small{
      padding: 10px 12px;
      font-weight:800;
      border-radius: 14px;
      font-size:.9rem;
    }

    /* Scoreboard */
    .score-title{
      font-weight:900;
      margin:0 0 10px;
      font-size:1rem;
    }
    .score-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 10px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      margin-bottom: 8px;
    }
    .score-left{
      display:flex; align-items:center; gap:10px;
    }
    .dot{
      width:12px; height:12px; border-radius:999px;
      background: rgba(255,255,255,.25);
      box-shadow: 0 0 0 4px rgba(255,255,255,.06);
    }
    .team-name{ font-weight:900; font-size:.92rem; }
    .team-score{ font-weight:900; font-size:1rem; }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: 18px;
      transform: translateX(-50%);
      z-index:999;
      padding: 10px 14px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      color: rgba(234,241,255,.95);
      font-weight:800;
      font-size:.9rem;
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }

    /* Background decorations container */
    .decor{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-1;
      overflow:hidden;
    }

    /* Galaxy decorations */
    .galaxy-star{
      position:absolute;
      width:2px; height:2px;
      border-radius:999px;
      background: rgba(255,255,255,.75);
      opacity:.55;
      animation: twinkle 2.2s infinite ease-in-out;
    }
    @keyframes twinkle{
      0%,100%{ transform:scale(1); opacity:.45; }
      50%{ transform:scale(1.8); opacity:.95; }
    }
    .galaxy-ring{
      position:absolute;
      border-radius:999px;
      border:1px solid rgba(106,228,255,.12);
      filter: blur(.2px);
      opacity:.55;
    }

    /* School decorations */
    .school-item{
      position:absolute;
      font-size: 22px;
      opacity:.12;
      filter: blur(.1px);
      transform: rotate(var(--r));
    }

    /* Tet decorations */
    .tet-item{
      position:absolute;
      font-size: 22px;
      opacity:.14;
      transform: rotate(var(--r));
    }

    /* Click effects */
    .click-fx{
      position:fixed;
      pointer-events:none;
      z-index:500;
      left:0; top:0;
      width:1px; height:1px;
    }
    .planet{
      position:absolute;
      width: 18px; height: 18px;
      border-radius:999px;
      box-shadow: 0 12px 30px rgba(0,0,0,.35);
      animation: flyPlanet .9s ease-out forwards;
      border: 1px solid rgba(255,255,255,.22);
    }
    @keyframes flyPlanet{
      from{ transform: translate(0,0) scale(.7); opacity:1; }
      to{ transform: translate(var(--dx), var(--dy)) scale(1.4); opacity:0; }
    }

    .school-ring{
      position:absolute;
      width: 18px; height: 18px;
      border-radius:999px;
      border: 2px solid rgba(180,180,180,.75);
      animation: ringPop .7s ease-out forwards;
    }
    @keyframes ringPop{
      from{ transform: translate(-50%,-50%) scale(.4); opacity:.95; }
      to{ transform: translate(-50%,-50%) scale(3.4); opacity:0; }
    }

  </style>
</head>

<body>
  <div class="decor" id="decor"></div>

  <header>
    <div class="brand">
      <div class="title">7A4 GALAXY COMMAND</div>
      <div class="sub">B·∫£n c·∫≠p nh·∫≠t 3.0 ‚Äî Giao di·ªán ƒë·∫πp h∆°n, th√™m hi·ªáu ·ª©ng click chu·ªôt cho m·ªói giao di·ªán, t·∫°o m·ª•c Anime</div>
    </div>
    <div class="header-right">
      <div class="chip" id="themeChip">üé® Giao di·ªán: Galaxy</div>
      <button class="btn ghost" onclick="openAdmin()">üîê Admin</button>
    </div>
  </header>

  <div class="container">

    <div class="update-note">
      <div class="badge">‚ú®</div>
      <div class="txt">
        <b>Update 3.0</b><br/>
        Giao di·ªán ƒë·∫πp h∆°n + hi·ªáu ·ª©ng click ri√™ng cho t·ª´ng giao di·ªán + th√™m m·ª•c Anime.
      </div>
    </div>

    <div class="theme-row">
      <div class="theme active" id="th-galaxy" onclick="setTheme('galaxy')">
        <div class="tname">üåå Galaxy</div>
        <div class="tdesc">Kh√¥ng gian ng√¢n h√†, h√†nh tinh + click effect.</div>
      </div>
      <div class="theme" id="th-school" onclick="setTheme('school')">
        <div class="tname">üè´ Tr∆∞·ªùng h·ªçc</div>
        <div class="tdesc">B√∫t v·ªü nh·∫π nh√†ng + v√≤ng tr√≤n x√°m khi click.</div>
      </div>
      <div class="theme" id="th-tet" onclick="setTheme('tet')">
        <div class="tname">üßß T·∫øt</div>
        <div class="tdesc">Ph√°o hoa, l√¨ x√¨ ‚Äî click b√¨nh th∆∞·ªùng.</div>
      </div>
    </div>

    <div class="grid">
      <div class="mission-card" onclick="englishGame.start()">
        <span class="mission-icon">üá¨üáß</span>
        <div class="mission-name">English</div>
        <div class="mission-desc">Ng√¢n h√†ng ti·∫øng Anh (h·ªçc k√¨ 2) ‚Äî random c√¢u h·ªèi.</div>
      </div>

      <div class="mission-card" onclick="mathGame.start()">
        <span class="mission-icon">üßÆ</span>
        <div class="mission-name">To√°n</div>
        <div class="mission-desc">Random c√¢u h·ªèi + t·ª± nh·∫≠p ƒë√°p √°n (t√≠nh nh·∫©m).</div>
      </div>

      <div class="mission-card" onclick="animeGame.start()">
        <span class="mission-icon">üéå</span>
        <div class="mission-name">Anime</div>
        <div class="mission-desc">200 c√¢u h·ªèi Anime (b·∫°n s·∫Ω d√°n bank v√†o).</div>
      </div>

      <div class="mission-card" onclick="toast('‚öôÔ∏è B·∫°n c√≥ th·ªÉ th√™m m·ª•c kh√°c sau nh√©!')">
        <span class="mission-icon">üõ∞Ô∏è</span>
        <div class="mission-name">Ch·∫ø ƒë·ªô kh√°c</div>
        <div class="mission-desc">B·∫°n c√≥ th·ªÉ m·ªü r·ªông th√™m mini-game kh√°c sau.</div>
      </div>

      <div class="mission-card" onclick="toast('üìå Tip: B·∫•m Admin ƒë·ªÉ ch·ªânh ƒëi·ªÉm nhanh!')">
        <span class="mission-icon">üìå</span>
        <div class="mission-name">Tip</div>
        <div class="mission-desc">ƒê√∫ng +10, Sai -5. To√°n/Anime/English ƒë·ªÅu t√≠nh ƒëi·ªÉm.</div>
      </div>

      <div class="mission-card" onclick="toast('7A4 c·ªë l√™n üí™')">
        <span class="mission-icon">üöÄ</span>
        <div class="mission-name">7A4</div>
        <div class="mission-desc">C√πng nhau leo rank n√†o!</div>
      </div>
    </div>
  </div>

  <!-- GAME OVERLAY -->
  <div class="overlay" id="game-overlay">
    <div class="panel">
      <div class="panel-head">
        <div>
          <div class="panel-title" id="game-label">MISSION</div>
          <div class="panel-tag" id="q-tag">Tag</div>
        </div>
        <button class="btn ghost" onclick="closeGame()">‚úñ</button>
      </div>

      <div class="panel-body">
        <div class="card">
          <h3 class="q-title" id="q-title">C√¢u h·ªèi</h3>
          <p class="q-text" id="q-text">...</p>
          <div id="q-action"></div>
        </div>

        <div class="card">
          <div class="score-title">üìä LIVE SCOREBOARD</div>
          <div id="scoreboard"></div>

          <div style="margin-top:12px;">
            <div class="chip" style="justify-content:space-between;">
              <span>üë• Team ƒëang ch∆°i</span>
              <b id="teamNow">T·ªï 1</b>
            </div>
            <div style="margin-top:10px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
              <button class="btn ghost" onclick="switchTeam()">ƒê·ªïi t·ªï</button>
              <button class="btn" onclick="toast('üî• Keep going!')">Boost</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ADMIN OVERLAY -->
  <div class="overlay" id="admin-overlay">
    <div class="panel">
      <div class="panel-head">
        <div>
          <div class="panel-title">üîê ADMIN PANEL</div>
          <div class="panel-tag">C·ªông/tr·ª´ ƒëi·ªÉm nhanh</div>
        </div>
        <button class="btn ghost" onclick="closeAdmin()">‚úñ</button>
      </div>

      <div class="panel-body" style="grid-template-columns:1fr;">
        <div class="card">
          <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:space-between; align-items:center;">
            <div class="chip">Team hi·ªán t·∫°i: <b id="adminTeam">T·ªï 1</b></div>
            <button class="btn ghost" onclick="switchTeam(true)">ƒê·ªïi t·ªï</button>
          </div>

          <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
            <input id="adminDelta" class="answer-input" type="number" inputmode="numeric" placeholder="Nh·∫≠p ƒëi·ªÉm (+/-)" style="max-width:260px;">
            <button class="btn-confirm" onclick="adminApply()">√ÅP D·ª§NG</button>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
            <button class="btn ghost" onclick="adminReset()">RESET ƒêI·ªÇM</button>
          </div>

          <div style="margin-top:12px; color:var(--muted); font-size:.85rem; text-align:center;">
            * B·∫°n c√≥ th·ªÉ n√¢ng c·∫•p Admin Undo sau.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">...</div>

  <div class="click-fx" id="clickFx"></div>

  <script>
    /**************************************************************
     * UPDATE NOTE (B·∫£n c·∫≠p nh·∫≠t 3.0)
     * - Giao di·ªán ƒë·∫πp h∆°n
     * - Hi·ªáu ·ª©ng click chu·ªôt theo t·ª´ng giao di·ªán
     * - T·∫°o m·ª•c Anime
     **************************************************************/

    // ========================= THEME =========================
    let CURRENT_THEME = "galaxy";

    function setTheme(theme){
      CURRENT_THEME = theme;

      document.getElementById("th-galaxy").classList.toggle("active", theme==="galaxy");
      document.getElementById("th-school").classList.toggle("active", theme==="school");
      document.getElementById("th-tet").classList.toggle("active", theme==="tet");

      document.getElementById("themeChip").innerText =
        theme==="galaxy" ? "üé® Giao di·ªán: Galaxy" :
        theme==="school" ? "üé® Giao di·ªán: Tr∆∞·ªùng h·ªçc" :
        "üé® Giao di·ªán: T·∫øt";

      buildDecor();
      toast("ƒê√£ ƒë·ªïi giao di·ªán!");
    }

    // ========================= DECOR =========================
    function buildDecor(){
      const decor = document.getElementById("decor");
      decor.innerHTML = "";

      if (CURRENT_THEME === "galaxy"){
        // stars
        for (let i=0;i<60;i++){
          const s = document.createElement("div");
          s.className="galaxy-star";
          s.style.left = Math.random()*100 + "vw";
          s.style.top = Math.random()*100 + "vh";
          s.style.animationDelay = (Math.random()*2)+"s";
          decor.appendChild(s);
        }
        // rings
        for (let i=0;i<6;i++){
          const r = document.createElement("div");
          r.className="galaxy-ring";
          const size = 180 + Math.random()*420;
          r.style.width = size+"px";
          r.style.height = size+"px";
          r.style.left = (Math.random()*100)+"vw";
          r.style.top = (Math.random()*100)+"vh";
          r.style.transform = `translate(-50%,-50%) rotate(${Math.random()*180}deg)`;
          decor.appendChild(r);
        }
      }

      if (CURRENT_THEME === "school"){
        const icons = ["üìò","üìó","üìï","üìí","‚úèÔ∏è","üñäÔ∏è","üìê","üìè","üß†","üìù"];
        for (let i=0;i<18;i++){
          const it = document.createElement("div");
          it.className="school-item";
          it.innerText = icons[Math.floor(Math.random()*icons.length)];
          it.style.left = Math.random()*100 + "vw";
          it.style.top = Math.random()*100 + "vh";
          it.style.setProperty("--r", (Math.random()*60-30)+"deg");
          decor.appendChild(it);
        }
      }

      if (CURRENT_THEME === "tet"){
        const icons = ["üßß","üéÜ","‚ú®","üß®","üå∏","üèÆ"];
        for (let i=0;i<18;i++){
          const it = document.createElement("div");
          it.className="tet-item";
          it.innerText = icons[Math.floor(Math.random()*icons.length)];
          it.style.left = Math.random()*100 + "vw";
          it.style.top = Math.random()*100 + "vh";
          it.style.setProperty("--r", (Math.random()*60-30)+"deg");
          decor.appendChild(it);
        }
      }
    }

    buildDecor();

    // ========================= CLICK EFFECT =========================
    document.addEventListener("click", (e)=>{
      // tr√°nh click trong overlay button b·ªã spam
      if (e.target.closest(".panel")) return;

      if (CURRENT_THEME === "galaxy"){
        spawnPlanet(e.clientX, e.clientY);
      } else if (CURRENT_THEME === "school"){
        spawnSchoolRing(e.clientX, e.clientY);
      } else {
        // tet: b√¨nh th∆∞·ªùng
      }
    });

    function spawnPlanet(x,y){
      const fx = document.getElementById("clickFx");
      const p = document.createElement("div");
      p.className="planet";
      p.style.left = x + "px";
      p.style.top = y + "px";

      // m√†u planet random nh·∫π
      const colors = [
        "rgba(106,228,255,.95)",
        "rgba(168,85,247,.95)",
        "rgba(255,255,255,.92)",
        "rgba(255,170,80,.92)"
      ];
      p.style.background = colors[Math.floor(Math.random()*colors.length)];

      // h∆∞·ªõng bay random
      const dx = (Math.random()*220 - 110) + "px";
      const dy = (Math.random()*220 - 160) + "px";
      p.style.setProperty("--dx", dx);
      p.style.setProperty("--dy", dy);

      fx.appendChild(p);
      setTimeout(()=>p.remove(), 900);
    }

    function spawnSchoolRing(x,y){
      const fx = document.getElementById("clickFx");
      const r = document.createElement("div");
      r.className="school-ring";
      r.style.left = x + "px";
      r.style.top = y + "px";
      fx.appendChild(r);
      setTimeout(()=>r.remove(), 700);
    }

    // ========================= TOAST =========================
    let toastTimer = null;
    function toast(msg){
      const t = document.getElementById("toast");
      t.innerText = msg;
      t.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>t.classList.remove("show"), 1600);
    }

    // ========================= GAME UI HELPERS =========================
    function openGame(title, tag){
      document.getElementById("game-overlay").style.display="flex";
      document.getElementById("game-label").innerText = title;
      document.getElementById("q-tag").innerText = tag;
    }
    function closeGame(){
      document.getElementById("game-overlay").style.display="none";
    }
    function setQuestionText(text){
      document.getElementById("q-title").innerText = "C√¢u h·ªèi";
      document.getElementById("q-text").innerText = text;
    }

    // ========================= SCORE SYSTEM (LOCAL) =========================
    // B·∫°n c√≥ th·ªÉ thay ph·∫ßn n√†y b·∫±ng Firestore sau.
    const TEAMS = [
      { name:"T·ªï 1", score:0 },
      { name:"T·ªï 2", score:0 },
      { name:"T·ªï 3", score:0 },
      { name:"T·ªï 4", score:0 },
    ];
    let teamIndex = 0;

    function renderScoreboard(){
      const el = document.getElementById("scoreboard");
      el.innerHTML = "";

      // sort rank
      const ranked = [...TEAMS].sort((a,b)=>b.score-a.score);

      ranked.forEach(t=>{
        const row = document.createElement("div");
        row.className="score-row";
        row.innerHTML = `
          <div class="score-left">
            <div class="dot"></div>
            <div class="team-name">${t.name}</div>
          </div>
          <div class="team-score">${t.score}</div>
        `;
        el.appendChild(row);
      });

      document.getElementById("teamNow").innerText = TEAMS[teamIndex].name;
      const adminTeam = document.getElementById("adminTeam");
      if (adminTeam) adminTeam.innerText = TEAMS[teamIndex].name;
    }

    function addScore(delta){
      TEAMS[teamIndex].score += delta;
      if (TEAMS[teamIndex].score < 0) TEAMS[teamIndex].score = 0;
    }

    function switchTeam(fromAdmin=false){
      teamIndex = (teamIndex + 1) % TEAMS.length;
      renderScoreboard();
      toast("ƒê√£ ƒë·ªïi team!");
    }

    renderScoreboard();

    // ========================= ADMIN =========================
    function openAdmin(){
      document.getElementById("admin-overlay").style.display="flex";
      document.getElementById("adminTeam").innerText = TEAMS[teamIndex].name;
      document.getElementById("adminDelta").value = "";
    }
    function closeAdmin(){
      document.getElementById("admin-overlay").style.display="none";
    }
    function adminApply(){
      const v = Number(document.getElementById("adminDelta").value || 0);
      if (!v){
        toast("‚ö†Ô∏è Nh·∫≠p ƒëi·ªÉm tr∆∞·ªõc!");
        return;
      }
      addScore(v);
      renderScoreboard();
      toast("ƒê√£ c·∫≠p nh·∫≠t ƒëi·ªÉm!");
    }
    function adminReset(){
      TEAMS.forEach(t=>t.score=0);
      renderScoreboard();
      toast("ƒê√£ reset ƒëi·ªÉm!");
    }

const ENGLISH_BANK = [
  // --- TOPIC: ADJECTIVES VS ADVERBS ---
  { q: "She is a very ________ designer. She always has new ideas.", a: "creative", o: ["creative", "creatively", "creation"], t: "Adj_Adv" },
  { q: "He decorated the room ________ for the party.", a: "creatively", o: ["creative", "creatively", "create"], t: "Adj_Adv" },
  { q: "You should be ________ when speaking to elderly people.", a: "polite", o: ["polite", "politely", "politeness"], t: "Adj_Adv" },
  { q: "The boy replied ________ to the teacher and got into trouble.", a: "rudely", o: ["rude", "rudely", "rudeness"], t: "Adj_Adv" },
  { q: "It was ________ of him to ignore my question.", a: "rude", o: ["rude", "rudely", "rudest"], t: "Adj_Adv" },
  { q: "This sofa is very ________. I can sleep on it.", a: "comfortable", o: ["comfortable", "comfortably", "comfort"], t: "Adj_Adv" },
  { q: "We sat ________ by the fire and drank hot cocoa.", a: "comfortably", o: ["comfortable", "comfortably", "comforting"], t: "Adj_Adv" },
  { q: "She speaks English very ________.", a: "well", o: ["good", "well", "goodness"], t: "Adj_Adv" },
  { q: "He is a ________ student. He always gets high marks.", a: "good", o: ["well", "good", "badly"], t: "Adj_Adv" },
  { q: "The team played ________ yesterday and lost the match.", a: "badly", o: ["bad", "badly", "worse"], t: "Adj_Adv" },
  { q: "The weather is really ________ today.", a: "bad", o: ["badly", "bad", "worse"], t: "Adj_Adv" },
  { q: "The test was surprisingly ________.", a: "easy", o: ["easy", "easily", "ease"], t: "Adj_Adv" },
  { q: "She passed the exam ________.", a: "easily", o: ["easy", "easily", "easier"], t: "Adj_Adv" },
  { q: "Please be ________! The baby is sleeping.", a: "quiet", o: ["quiet", "quietly", "quite"], t: "Adj_Adv" },
  { q: "The students worked ________ in the library.", a: "quietly", o: ["quiet", "quietly", "quietness"], t: "Adj_Adv" },
  { q: "He asked ________ for permission to leave.", a: "politely", o: ["polite", "politely", "politeness"], t: "Adj_Adv" },

  // --- TOPIC: VOCABULARY & WORD FORM ---
  { q: "That is an ________ painting. I've never seen anything like it.", a: "unusual", o: ["unusual", "usual", "usually"], t: "Vocabulary" },
  { q: "We need to measure the ________ of the triangle.", a: "angle", o: ["angel", "angle", "angry"], t: "Vocabulary" },
  { q: "My sister loves taking pictures. She wants to study ________.", a: "photography", o: ["photographer", "photography", "photograph"], t: "Vocabulary" },
  { q: "The ________ asked us to smile for the picture.", a: "photographer", o: ["photography", "photographer", "photographic"], t: "Vocabulary" },
  { q: "I have a terrible ________. I always forget names.", a: "memory", o: ["memorize", "memory", "memorable"], t: "Vocabulary" },
  { q: "Our trip to Paris was truly ________.", a: "memorable", o: ["memory", "memorize", "memorable"], t: "Vocabulary" },
  { q: "I need to ________ these vocabulary words for the test.", a: "memorize", o: ["memory", "memorize", "memorable"], t: "Vocabulary" },
  { q: "We watched the amazing ________ on New Year's Eve.", a: "firework display", o: ["firework display", "fire work", "display fire"], t: "Vocabulary" },
  { q: "When did they ________? - Last year.", a: "get married", o: ["get marry", "get married", "got marry"], t: "Vocabulary" },
  { q: "What time did you ________ for the party?", a: "arrive", o: ["arrive", "arriving", "arrival"], t: "Vocabulary" },

  // --- TOPIC: VERB PATTERNS (NEED TO / DECIDE TO) ---
  { q: "I need ________ my homework right now.", a: "to finish", o: ["finish", "to finish", "finishing"], t: "Grammar" },
  { q: "You need to ________ careful when crossing the street.", a: "be", o: ["be", "is", "being"], t: "Grammar" },
  { q: "She needs to ________ quiet in the hospital.", a: "be", o: ["do", "be", "make"], t: "Grammar" },
  { q: "They decided ________ to the beach for their holiday.", a: "to go", o: ["go", "to go", "going"], t: "Grammar" },
  { q: "He decided ________ a new car.", a: "to buy", o: ["buy", "to buy", "buying"], t: "Grammar" },
  { q: "Did you ________ permission before using my phone?", a: "ask for", o: ["ask with", "ask for", "ask to"], t: "Phrases" },
  { q: "I must ________ permission to leave early.", a: "ask for", o: ["ask", "ask for", "asking"], t: "Phrases" },

  // --- TOPIC: ACTION VERBS & PREPOSITIONS ---
  { q: "The cat tried to ________ the tall tree.", a: "climb up", o: ["climb up", "lie on", "sit on"], t: "Actions" },
  { q: "He was so happy he started to ________.", a: "jump up", o: ["jump up", "lie on", "walk on"], t: "Actions" },
  { q: "I like to ________ the sofa and watch TV.", a: "lie on", o: ["climb up", "lie on", "stand in"], t: "Actions" },
  { q: "Please ________ the queue and wait for your turn.", a: "stand in", o: ["stand in", "walk on", "sit on"], t: "Actions" },
  { q: "The baby learned to ________ the grass.", a: "walk on", o: ["walk on", "climb up", "stand in"], t: "Actions" },
  { q: "Come and ________ this chair next to me.", a: "sit on", o: ["sit on", "lie on", "climb up"], t: "Actions" },
  { q: "Don't ________ the wall, it's dangerous!", a: "climb up", o: ["walk on", "climb up", "stand in"], t: "Actions" },
  { q: "The floor is wet. Don't ________ it.", a: "walk on", o: ["walk on", "jump up", "lie on"], t: "Actions" },
  { q: "He likes to ________ the floor to play with his toys.", a: "sit on", o: ["sit on", "climb up", "stand in"], t: "Actions" },
  { q: "When the teacher entered, the students had to ________ their places.", a: "stand in", o: ["stand in", "jump up", "walk on"], t: "Actions" },

  // --- TOPIC: ABILITY (CAN/COULD/WILL BE ABLE TO) ---
  { q: "I ________ swim when I was five years old.", a: "could", o: ["can", "could", "will be able to"], t: "Ability" },
  { q: "She ________ speak three languages now.", a: "can", o: ["could", "can", "will be able to"], t: "Ability" },
  { q: "I ________ finish this project tomorrow.", a: "will be able to", o: ["could", "can", "will be able to"], t: "Ability" },
  { q: "Mozart ________ play music when he was very young.", a: "could", o: ["can", "could", "will be able to"], t: "Ability" },
  { q: "Sorry, I ________ help you right now. I'm busy.", a: "can't", o: ["couldn't", "can't", "won't be able to"], t: "Ability" },
  { q: "Yesterday, I ________ find my keys anywhere.", a: "couldn't", o: ["can't", "couldn't", "won't be able to"], t: "Ability" },
  { q: "In the future, robots ________ do all the housework.", a: "will be able to", o: ["can", "could", "will be able to"], t: "Ability" },
  { q: "________ you ride a bike when you were six?", a: "Could", o: ["Can", "Could", "Will"], t: "Ability" },
  { q: "I hope I ________ travel to Japan next year.", a: "will be able to", o: ["can", "could", "will be able to"], t: "Ability" },
  { q: "He ________ run very fast now, he is an athlete.", a: "can", o: ["could", "can", "will be able to"], t: "Ability" },
  { q: "The text was blurry, so I ________ read it.", a: "couldn't", o: ["can't", "couldn't", "won't be able to"], t: "Ability" },
  { q: "If you study hard, you ________ pass the exam.", a: "will be able to", o: ["can", "could", "will be able to"], t: "Ability" },

  // --- TOPIC: WH- QUESTIONS (HOW...) ---
  { q: "________ is it from your house to the school?", a: "How far", o: ["How long", "How far", "How much"], t: "Questions" },
  { q: "________ does this shirt cost?", a: "How much", o: ["How many", "How much", "How long"], t: "Questions" },
  { q: "________ students are there in your class?", a: "How many", o: ["How much", "How many", "How often"], t: "Questions" },
  { q: "________ do you go to the cinema? - Twice a month.", a: "How often", o: ["How long", "How often", "How far"], t: "Questions" },
  { q: "________ does the movie last? - Two hours.", a: "How long", o: ["How often", "How long", "How tall"], t: "Questions" },
  { q: "________ is your brother? - He is 1.7 meters.", a: "How tall", o: ["How high", "How tall", "How long"], t: "Questions" },
  { q: "________ is Mount Everest?", a: "How high", o: ["How tall", "How high", "How long"], t: "Questions" },
  { q: "________ is your grandmother? - She is 80.", a: "How old", o: ["How many", "How old", "How long"], t: "Questions" },

  // --- TOPIC: QUESTION TRANSFORMATIONS ---
  { q: "How old are you? -> What is your ________?", a: "age", o: ["old", "age", "birth"], t: "Transformations" },
  { q: "What is the age of this building? -> How ________ is this building?", a: "old", o: ["long", "old", "age"], t: "Transformations" },
  { q: "How far is it from A to B? -> What is the ________ between A and B?", a: "distance", o: ["length", "distance", "far"], t: "Transformations" },
  { q: "What is the distance between Hanoi and Hue? -> How ________ is it from Hanoi to Hue?", a: "far", o: ["long", "far", "distance"], t: "Transformations" },
  { q: "How long is the river? -> What is the ________ of the river?", a: "length", o: ["long", "length", "distance"], t: "Transformations" },
  { q: "What is the length of the table? -> How ________ is the table?", a: "long", o: ["far", "long", "tall"], t: "Transformations" },
  { q: "How high is the wall? -> What is the ________ of the wall?", a: "height", o: ["high", "height", "length"], t: "Transformations" },
  { q: "What is the height of the mountain? -> How ________ is the mountain?", a: "high", o: ["tall", "high", "height"], t: "Transformations" },
  { q: "How tall is he? -> What is his ________?", a: "height", o: ["tall", "height", "length"], t: "Transformations" },

  // --- EXTRA ---
  { q: "A child who is amazingly talented at something is called a ________.", a: "prodigy", o: ["prodigy", "student", "beginner"], t: "Vocabulary" },

  // ‚ùóFIX: th√™m d·∫•u ph·∫©y ·ªü ƒë√¢y
  { q: "To ________ means to keep something in your mind.", a: "memorize", o: ["decide", "memorize", "arrive"], t: "Vocabulary" },

  // --- TOPIC: MEDALS & SPORTS ---
  { q: "He won a ________ medal in the 100m race.", a: "gold", o: ["gold", "silver", "bronze"], t: "Vocabulary" },
  { q: "She came second, so she got a ________ medal.", a: "silver", o: ["gold", "silver", "bronze"], t: "Vocabulary" },
  { q: "Third place receives a ________ medal.", a: "bronze", o: ["gold", "silver", "bronze"], t: "Vocabulary" },
  { q: "A person who wins a medal is called a ________.", a: "medalist", o: ["medal", "medalist", "medaling"], t: "Vocabulary" },
  { q: "Winning a medal is a great sporting ________.", a: "achievement", o: ["achievement", "achieve", "achieving"], t: "Vocabulary" },
  { q: "He trained hard to ________ his dream of becoming a champion.", a: "achieve", o: ["achieve", "achievement", "achiever"], t: "Vocabulary" },
  { q: "The athlete was proud of his ________ at the Olympics.", a: "success", o: ["success", "successful", "succeed"], t: "Vocabulary" },
  { q: "She worked hard and became very ________.", a: "successful", o: ["success", "successful", "succeed"], t: "Vocabulary" },
  { q: "If you practise every day, you will ________.", a: "succeed", o: ["success", "successful", "succeed"], t: "Vocabulary" },

  // --- TOPIC: BODYBUILDING & DIET ---
  { q: "You should practise ________ regularly and have a good diet.", a: "bodybuilding", o: ["bodybuilding", "bodybuilder", "build body"], t: "Vocabulary" },
  { q: "A person who does bodybuilding is a ________.", a: "bodybuilder", o: ["bodybuilding", "bodybuilder", "bodybuild"], t: "Vocabulary" },
  { q: "Eggs contain a lot of ________.", a: "nutrition", o: ["nutrition", "nutrient", "nutritious"], t: "Vocabulary" },
  { q: "Bananas contain helpful ________ that give us energy.", a: "nutrients", o: ["nutrients", "nutrition", "nutritions"], t: "Vocabulary" },
  { q: "A healthy diet can help you build ________.", a: "muscle", o: ["muscle", "mussel", "music"], t: "Vocabulary" },
  { q: "Eating too much sugar can ________ your health.", a: "reduce", o: ["reduce", "reduction", "reduced"], t: "Vocabulary" },
  { q: "Doing sports can lead to a ________ in stress.", a: "reduction", o: ["reduce", "reduction", "reducing"], t: "Vocabulary" },
  { q: "On ________, students need 8 hours of sleep.", a: "average", o: ["average", "usually", "total"], t: "Vocabulary" },
  { q: "This drink ________ a lot of vitamin C.", a: "contains", o: ["contains", "contain", "containing"], t: "Vocabulary" },
  { q: "You should ________ the instructions carefully.", a: "follow", o: ["follow", "finish", "force"], t: "Vocabulary" },
  { q: "You should eat ________ eggs, not too many.", a: "soft-boiled", o: ["soft-boiled", "hard-boiled", "scrambled"], t: "Vocabulary" },
  { q: "I like ________ eggs with bread for breakfast.", a: "scrambled", o: ["scrambled", "soft-boiled", "hard-boiled"], t: "Vocabulary" },
  { q: "My father prefers ________ eggs.", a: "hard-boiled", o: ["scrambled", "soft-boiled", "hard-boiled"], t: "Vocabulary" },
  { q: "Basketball players need between 2,500 and 5,000 ________ a day.", a: "calories", o: ["calories", "kilometres", "seconds"], t: "Vocabulary" },
  { q: "You should exercise ________, not only once a month.", a: "regularly", o: ["regularly", "regular", "irregular"], t: "Adj_Adv" },
  { q: "He goes to the gym ________.", a: "regularly", o: ["regular", "regularly", "regularity"], t: "Adj_Adv" },
  { q: "He has an ________ schedule, so he often skips workouts.", a: "irregular", o: ["irregular", "regular", "regularly"], t: "Vocabulary" },
  { q: "You should eat vegetables, ________ green ones.", a: "especially", o: ["especially", "special", "specially"], t: "Vocabulary" },

  // --- TOPIC: UNITS OF MEASUREMENT ---
  { q: "There are 7 days in a ________.", a: "week", o: ["week", "month", "year"], t: "Units" },
  { q: "There are 12 months in a ________.", a: "year", o: ["year", "week", "hour"], t: "Units" },
  { q: "There are 60 seconds in a ________.", a: "minute", o: ["minute", "hour", "day"], t: "Units" },
  { q: "There are 60 minutes in an ________.", a: "hour", o: ["hour", "day", "second"], t: "Units" },
  { q: "There are 24 hours in a ________.", a: "day", o: ["day", "month", "decade"], t: "Units" },
  { q: "A ________ is 10 years.", a: "decade", o: ["decade", "century", "millennium"], t: "Units" },
  { q: "A ________ is 100 years.", a: "century", o: ["century", "decade", "millennium"], t: "Units" },
  { q: "A ________ is 1,000 years.", a: "millennium", o: ["millennium", "century", "decade"], t: "Units" },
  { q: "A thousand is written as ________.", a: "1,000", o: ["100", "1,000", "10,000"], t: "Units" },
  { q: "A million is written as ________.", a: "1,000,000", o: ["1,000", "100,000", "1,000,000"], t: "Units" },
  { q: "A quarter means ________ of something.", a: "one fourth", o: ["one half", "one fourth", "one third"], t: "Units" },
  { q: "Half means ________.", a: "one second", o: ["one second", "one third", "one fifth"], t: "Units" },
  { q: "1 kilometre is 1,000 ________.", a: "metres", o: ["metres", "kilos", "tons"], t: "Units" },
  { q: "A kilo is short for ________.", a: "kilogram", o: ["kilogram", "kilometre", "kilo-second"], t: "Units" },
  { q: "A ton is a unit of ________.", a: "weight", o: ["time", "weight", "distance"], t: "Units" },
  { q: "We measure distance in metres and ________.", a: "kilometres", o: ["kilometres", "minutes", "tons"], t: "Units" },
  { q: "We measure time in seconds, minutes and ________.", a: "hours", o: ["hours", "kilos", "metres"], t: "Units" },

  // --- TOPIC: KEY PHRASES (GUESSING MEANING) ---
  { q: "If you don't know, say: 'I've ________ idea.'", a: "no", o: ["no", "any", "some"], t: "Phrases" },
  { q: "To ask someone to guess, you can say: 'Have a ________!'", a: "guess", o: ["guess", "look", "think"], t: "Phrases" },
  { q: "To ask for suggestions: 'Any ________?'", a: "ideas", o: ["ideas", "answers", "questions"], t: "Phrases" },
  { q: "To give an opinion: 'I ________ it's true.'", a: "reckon", o: ["reckon", "kick", "hold"], t: "Phrases" },
  { q: "To say something is not exact: '________ 10 minutes.'", a: "Around", o: ["Around", "Exactly", "Never"], t: "Phrases" },
  { q: "Another word for 'around' is ________.", a: "about", o: ["about", "behind", "below"], t: "Phrases" },
  { q: "To say you're not sure: 'Probably / ________.'", a: "maybe", o: ["maybe", "always", "certainly"], t: "Phrases" },

  // --- TOPIC: POSITIONS & PREPOSITIONS ---
  { q: "The ball is in the ________ of the box.", a: "middle", o: ["middle", "front", "behind"], t: "Positions" },
  { q: "The teacher is in ________ of the class.", a: "front", o: ["front", "behind", "middle"], t: "Positions" },
  { q: "The cat is ________ the chair.", a: "behind", o: ["behind", "in front of", "in the middle"], t: "Positions" },
  { q: "The car is on the ________ of the road.", a: "left", o: ["left", "middle", "top"], t: "Positions" },
  { q: "The shop is on the ________ of the street.", a: "right", o: ["right", "behind", "bottom"], t: "Positions" },
  { q: "The sun is at the ________ of the sky.", a: "top", o: ["top", "bottom", "middle"], t: "Positions" },
  { q: "The shoes are at the ________ of the bed.", a: "bottom", o: ["bottom", "top", "front"], t: "Positions" },
  { q: "In the ________, we can see mountains far away.", a: "background", o: ["background", "foreground", "middle"], t: "Positions" },
  { q: "In the ________, we can see a boy holding a balloon.", a: "foreground", o: ["foreground", "background", "behind"], t: "Positions" },

  // --- TOPIC: ACTION VERBS ---
  { q: "Don't ________ the ball into the window!", a: "kick", o: ["kick", "pick up", "hang from"], t: "Actions" },
  { q: "Please ________ your books from the floor.", a: "pick up", o: ["pick up", "kick", "hang from"], t: "Actions" },
  { q: "He tried to ________ his breath under water.", a: "hold", o: ["hold", "kick", "pick up"], t: "Actions" },
  { q: "The monkey can ________ the tree branch.", a: "hang from", o: ["hang from", "pick up", "kick"], t: "Actions" },

  // --- TOPIC: LINKING WORDS ---
  { q: "________ you go to bed, brush your teeth.", a: "Before", o: ["Before", "After", "While"], t: "Linking" },
  { q: "________ dinner, we watched a movie.", a: "After", o: ["After", "Before", "When"], t: "Linking" },
  { q: "Call me ________ you arrive home.", a: "when", o: ["when", "while", "before"], t: "Linking" },
  { q: "Don't talk ________ the teacher is speaking.", a: "while", o: ["while", "after", "as soon as"], t: "Linking" },
  { q: "________ I finish my homework, I will play games.", a: "As soon as", o: ["As soon as", "Although", "Before"], t: "Linking" },

  // --- TOPIC: GRAMMAR (ALTHOUGH / SEEM TO / HAPPEN TO) ---
  { q: "________ it rains, the night market is still crowded.", a: "Although", o: ["Although", "Because", "So"], t: "Grammar" },
  { q: "He ________ be tired today. He is very quiet.", a: "seems to", o: ["seems to", "happens to", "kicks"], t: "Grammar" },
  { q: "I happened to ________ my old teacher at the mall.", a: "see", o: ["see", "seeing", "seen"], t: "Grammar" },
  { q: "Happen to see means ________ see.", a: "accidentally", o: ["accidentally", "carefully", "regularly"], t: "Vocabulary" },

  // --- TOPIC: EXCLAMATIONS (WHAT / HOW) ---
  { q: "________ a clever girl!", a: "What", o: ["What", "How", "Which"], t: "Grammar" },
  { q: "________ clever the girl is!", a: "How", o: ["How", "What", "Where"], t: "Grammar" },
  { q: "________ a beautiful day!", a: "What", o: ["What", "How", "When"], t: "Grammar" },
  { q: "________ beautiful the flowers are!", a: "How", o: ["How", "What", "Who"], t: "Grammar" },

  // --- TOPIC: ADJECTIVES vs ADVERBS ---
  { q: "She is very ________ when she does homework.", a: "careful", o: ["careful", "carefully", "care"], t: "Adj_Adv" },
  { q: "She does her homework ________.", a: "carefully", o: ["careful", "carefully", "care"], t: "Adj_Adv" },
  { q: "He is a ________ person. He never gets angry.", a: "patient", o: ["patient", "patiently", "patience"], t: "Adj_Adv" },
  { q: "He waited ________ for the bus.", a: "patiently", o: ["patient", "patiently", "patience"], t: "Adj_Adv" },

  // --- TOPIC: COMPARATIVES ---
  { q: "Gold is ________ than silver in value.", a: "more expensive", o: ["more expensive", "the most expensive", "as expensive"], t: "Comparative" },
  { q: "This athlete is ________ than the others.", a: "stronger", o: ["stronger", "strongest", "as strong"], t: "Comparative" },
  { q: "A cheetah is ________ than a dog.", a: "faster", o: ["faster", "fastest", "as fast"], t: "Comparative" },
  { q: "My bag is ________ than yours.", a: "heavier", o: ["heavier", "heaviest", "as heavy"], t: "Comparative" },
  { q: "This test is ________ than the last one.", a: "easier", o: ["easier", "easiest", "as easy"], t: "Comparative" },
  { q: "She runs ________ than her brother.", a: "more quickly", o: ["more quickly", "quickest", "as quickly"], t: "Comparative" },

  // --- TOPIC: SUPERLATIVES ---
  { q: "He is the ________ student in our class.", a: "smartest", o: ["smartest", "smarter", "as smart"], t: "Superlative" },
  { q: "This is the ________ building in the city.", a: "tallest", o: ["tallest", "taller", "as tall"], t: "Superlative" },
  { q: "She is the ________ athlete in the team.", a: "most careful", o: ["most careful", "carefuler", "more carefully"], t: "Superlative" },
  { q: "That was the ________ match of the year!", a: "most exciting", o: ["most exciting", "more exciting", "excitingest"], t: "Superlative" },

  // --- TOPIC: EQUAL COMPARISON ---
  { q: "My phone is ________ expensive as yours.", a: "as", o: ["as", "more", "most"], t: "Equal" },
  { q: "She sings as ________ as her sister.", a: "beautifully", o: ["beautiful", "beautifully", "beauty"], t: "Equal" },
  { q: "This exercise is not as ________ as the last one.", a: "difficult", o: ["difficult", "difficultly", "difficulty"], t: "Equal" },

  // --- TOPIC: LIKE / LOOK LIKE / SIMILAR TO ---
  { q: "He looks ________ his father. They have the same face.", a: "like", o: ["like", "as soon as", "although"], t: "Phrases" },
  { q: "This picture looks ________ a real photo!", a: "like", o: ["like", "behind", "while"], t: "Phrases" },
  { q: "My bag is similar ________ yours.", a: "to", o: ["to", "with", "from"], t: "Phrases" },

  // --- TOPIC: MEASUREMENT QUESTIONS ---
  { q: "________ is it from your house to school?", a: "How far", o: ["How far", "How long", "How old"], t: "Questions" },
  { q: "________ does the trip take? - Two hours.", a: "How long", o: ["How long", "How far", "How much"], t: "Questions" },
  { q: "________ is Mount Everest?", a: "How high", o: ["How high", "How tall", "How long"], t: "Questions" },
  { q: "________ is your brother? - He is 1.75m.", a: "How tall", o: ["How tall", "How old", "How far"], t: "Questions" },
  { q: "________ does this cost?", a: "How much", o: ["How much", "How many", "How often"], t: "Questions" },
  { q: "________ eggs do you eat every week?", a: "How many", o: ["How many", "How much", "How long"], t: "Questions" },

  // --- TOPIC: WORD FORMS ---
  { q: "Decoration is a ________.", a: "noun", o: ["noun", "verb", "adverb"], t: "WordForm" },
  { q: "Start up is often used as a ________.", a: "noun", o: ["noun", "adjective", "preposition"], t: "WordForm" },
  { q: "The word 'decorate' is a ________.", a: "verb", o: ["verb", "noun", "adjective"], t: "WordForm" },

  // --- EXTRA MIXED REVIEW (FILL IN BLANKS) ---
  { q: "A ________ market is usually crowded at night.", a: "night", o: ["night", "ton", "kilo"], t: "Vocabulary" },
  { q: "We need a good ________ to stay healthy.", a: "diet", o: ["diet", "decade", "century"], t: "Vocabulary" },
  { q: "If you eat healthy food, you will feel full of ________.", a: "energy", o: ["energy", "medal", "metre"], t: "Vocabulary" },
  { q: "He practises every day, so he will ________ his goal.", a: "achieve", o: ["achieve", "arrive", "average"], t: "Vocabulary" },
  { q: "The athlete is holding a ________ medal.", a: "gold", o: ["gold", "quarter", "second"], t: "Vocabulary" },
  { q: "He lifted 1 ________ of weight in the competition.", a: "ton", o: ["ton", "metre", "minute"], t: "Units" },
  { q: "A ________ is 1/4 of an hour (15 minutes).", a: "quarter", o: ["quarter", "half", "decade"], t: "Units" },
  { q: "The boy is standing in ________ of the door.", a: "front", o: ["front", "middle", "bottom"], t: "Positions" },
  { q: "The picture in the ________ is clearer than the background.", a: "foreground", o: ["foreground", "background", "behind"], t: "Positions" },
  { q: "He picked up the bag ________ and left quietly.", a: "carefully", o: ["carefully", "careful", "care"], t: "Adj_Adv" },

  // 100th question
  { q: "If you don't know the meaning of a word, you can guess it from the ________.", a: "context", o: ["context", "medal", "ton"], t: "Reading" }
];


    const englishGame = {
      _current: null,
      _used: new Set(),

      start(){
        openGame("ENGLISH MISSION", "English ‚Ä¢ H·ªçc k√¨ 2");
        renderScoreboard();
        this._used.clear();
        this.nextQuestion();
      },

      nextQuestion(){
        if (!ENGLISH_BANK.length){
          setQuestionText("‚ö†Ô∏è B·∫°n ch∆∞a d√°n ENGLISH_BANK v√†o code.");
          document.getElementById("q-action").innerHTML = `
            <div style="margin-top:12px; color:var(--muted); text-align:center;">
              D√°n ENGLISH_BANK v√†o ƒë√∫ng v·ªã tr√≠ NOTE trong code.
            </div>
          `;
          return;
        }

        if (this._used.size >= ENGLISH_BANK.length) this._used.clear();

        let idx=-1, safety=0;
        do{
          idx = Math.floor(Math.random()*ENGLISH_BANK.length);
          safety++;
          if (safety>2000) break;
        } while(this._used.has(idx));

        this._used.add(idx);
        this._current = ENGLISH_BANK[idx];

        setQuestionText(this._current.q);

        const opts = (this._current.o || []).map((text, i)=>{
          return `<button class="btn-confirm small" style="background:rgba(255,255,255,.08); color:var(--txt); border:1px solid rgba(255,255,255,.14); box-shadow:none;" onclick="englishGame.choose('${escapeQuotes(text)}')">${text}</button>`;
        }).join("");

        document.getElementById("q-action").innerHTML = `
          <div style="margin-top:12px; display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            ${opts}
          </div>
          <div style="margin-top:12px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
            <button class="btn-confirm small" onclick="englishGame.nextQuestion()">C√ÇU KH√ÅC</button>
            <button class="btn-confirm small" style="background:#444;" onclick="closeGame()">ƒê√ìNG</button>
          </div>
        `;
      },

      choose(text){
        const correct = (String(text).trim().toLowerCase() === String(this._current.a).trim().toLowerCase());
        const delta = correct ? 10 : -5;
        addScore(delta);
        renderScoreboard();
        toast(correct ? "‚úÖ ƒê√∫ng! +10 ƒëi·ªÉm" : `‚ùå Sai! ƒê√°p √°n: ${this._current.a} (-5 ƒëi·ªÉm)`);
        setTimeout(()=>this.nextQuestion(), 850);
      }
    };

    function escapeQuotes(s){
      return String(s).replaceAll("\\","\\\\").replaceAll("'","\\'");
    }

    // ========================= MATH GAME (INPUT RANDOM) =========================
    const mathGame = {
      _currentAnswer: null,
      _lock:false,

      start(){
        openGame("TO√ÅN MISSION", "Math ‚Ä¢ Random");
        renderScoreboard();
        this.nextQuestion();
      },

      nextQuestion(){
        this._lock=false;

        const item = this.generateQuestion();
        this._currentAnswer = item.answer;

        setQuestionText(item.q);

        document.getElementById("q-action").innerHTML = `
          <div class="answer-wrap">
            <input id="math-input" class="answer-input" type="number" inputmode="numeric"
                   placeholder="Nh·∫≠p ƒë√°p √°n..." autocomplete="off" />
            <button class="btn-confirm" onclick="mathGame.submit()">TR·∫¢ L·ªúI</button>
          </div>

          <div style="margin-top:10px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
            <button class="btn-confirm small" onclick="mathGame.nextQuestion()">B·ªé QUA</button>
            <button class="btn-confirm small" style="background:#444;" onclick="closeGame()">ƒê√ìNG</button>
          </div>
        `;

        const inp = document.getElementById("math-input");
        inp.focus();
        inp.addEventListener("keydown", (e)=>{
          if (e.key === "Enter") this.submit();
        });
      },

      submit(){
        if (this._lock) return;
        this._lock=true;

        const inp = document.getElementById("math-input");
        const raw = (inp.value || "").trim();

        if (raw === ""){
          toast("‚ö†Ô∏è B·∫°n ch∆∞a nh·∫≠p ƒë√°p √°n!");
          this._lock=false;
          inp.focus();
          return;
        }

        const userAns = Number(raw);
        const correct = (userAns === this._currentAnswer);

        addScore(correct ? 10 : -5);
        renderScoreboard();

        inp.classList.add(correct ? "ok" : "bad");
        toast(correct ? "‚úÖ Ch√≠nh x√°c! +10 ƒëi·ªÉm" : `‚ùå Sai! ƒê√°p √°n: ${this._currentAnswer} (-5 ƒëi·ªÉm)`);

        setTimeout(()=>this.nextQuestion(), 900);
      },

      generateQuestion(){
        const r = Math.random();
        if (r < 0.45) return this.genFindX();
        if (r < 0.75) return this.genPercent();
        return this.genPower();
      },

      genFindX(){
        const type = randInt(0, 3);
        let x, a, b, q;

        if (type === 0){
          x = randInt(1, 25);
          a = randInt(1, 25);
          b = x + a;
          q = `T√¨m x: x + ${a} = ${b}`;
          return { q, answer: x };
        }
        if (type === 1){
          a = randInt(1, 18);
          b = randInt(0, 25);
          x = a + b;
          q = `T√¨m x: x - ${a} = ${b}`;
          return { q, answer: x };
        }
        if (type === 2){
          x = randInt(1, 12);
          a = randInt(2, 9);
          b = x * a;
          q = `T√¨m x: x √ó ${a} = ${b}`;
          return { q, answer: x };
        }

        a = randInt(2, 9);
        b = randInt(1, 12);
        x = a * b;
        q = `T√¨m x: x √∑ ${a} = ${b}`;
        return { q, answer: x };
      },

      genPercent(){
        const pick = Math.random() < 0.5 ? 25 : 50;
        let n;

        if (pick === 50){
          n = randInt(2, 80);
          if (n % 2 !== 0) n += 1;
          return { q: `T√≠nh: 50% c·ªßa ${n} b·∫±ng bao nhi√™u?`, answer: n/2 };
        } else {
          n = randInt(4, 120);
          n = n - (n % 4);
          if (n < 4) n = 4;
          return { q: `T√≠nh: 25% c·ªßa ${n} b·∫±ng bao nhi√™u?`, answer: n/4 };
        }
      },

      genPower(){
        const pow = randInt(1, 3);

        if (pow === 1){
          const n = randInt(1, 35);
          return { q: `T√≠nh: ${n}^1 = ?`, answer: n };
        }
        if (pow === 2){
          const n = randInt(2, 12);
          return { q: `T√≠nh: ${n}^2 = ?`, answer: n*n };
        }
        const n = randInt(2, 6);
        return { q: `T√≠nh: ${n}^3 = ?`, answer: n*n*n };
      }
    };

    function randInt(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

/**************************************************************
 * ANIME BANK (200 c√¢u)
 * - Copy paste nguy√™n kh·ªëi n√†y v√†o project
 **************************************************************/
const ANIME_BANK = [
  // ===== ONE PIECE (10) =====
  { q: "Luffy ƒÉn tr√°i √°c qu·ª∑ h·ªá g√¨ (theo ti·∫øt l·ªô m·ªõi nh·∫•t)?", o: ["Paramecia", "Logia", "Zoan Th·∫ßn tho·∫°i", "Zoan c·ªï ƒë·∫°i"], a: 2 },
  { q: "Ai l√† ng∆∞·ªùi ƒë·∫ßu ti√™n gia nh·∫≠p bƒÉng M≈© R∆°m?", o: ["Nami", "Zoro", "Usopp", "Sanji"], a: 1 },
  { q: 'Thanh ki·∫øm "Enma" c·ªßa Zoro t·ª´ng thu·ªôc v·ªÅ ai?', o: ["Kozuki Oden", "Shimotsuki Ryuma", "Gol D. Roger", "Mihawk"], a: 0 },
  { q: "Bi·ªát danh c·ªßa Sanji l√† g√¨?", o: ["Th·ª£ sƒÉn h·∫£i t·∫∑c", "H·∫Øc C∆∞·ªõc", "ƒê·ª©a con c·ªßa qu·ª∑", "K·∫ª h√°o s·∫Øc"], a: 1 },
  { q: "Thuy·ªÅn tr∆∞·ªüng c·ªßa bƒÉng H·∫£i t·∫∑c R√¢u Tr·∫Øng l√† ai?", o: ["Marshall D. Teach", "Edward Newgate", "Portgas D. Ace", "Marco"], a: 1 },
  { q: "Th√†nh vi√™n n√†o trong bƒÉng M≈© R∆°m l√† m·ªôt kh·∫£o c·ªï h·ªçc?", o: ["Robin", "Brook", "Jinbe", "Franky"], a: 0 },
  { q: "Tr·∫≠n chi·∫øn t·∫°i Marineford n·ªï ra ƒë·ªÉ c·ª©u ai?", o: ["Luffy", "Ace", "Sabo", "Garp"], a: 1 },
  { q: "Ai l√† ng∆∞·ªùi ƒë√£ t·∫∑ng chi·∫øc m≈© r∆°m cho Luffy?", o: ["R√¢u Tr·∫Øng", "Shanks", "Rayleigh", "Dragon"], a: 1 },
  { q: "Tr√°i √°c qu·ª∑ c·ªßa Nico Robin c√≥ t√™n l√† g√¨?", o: ["Hana Hana no Mi", "Yomi Yomi no Mi", "Gomu Gomu no Mi", "Hito Hito no Mi"], a: 0 },
  { q: "Ng√¥i l√†ng qu√™ h∆∞∆°ng c·ªßa Luffy t√™n l√† g√¨?", o: ["Syrup", "Shimotsuki", "Foosha", "Cocoyasi"], a: 2 },

  // ===== NARUTO (10) =====
  { q: "Naruto thu·ªôc v·ªÅ gia t·ªôc n√†o?", o: ["Uchiha", "Uzumaki", "Hyuga", "Senju"], a: 1 },
  { q: "Ai l√† th·∫ßy gi√°o h∆∞·ªõng d·∫´n tr·ª±c ti·∫øp cho ƒê·ªôi 7?", o: ["Jiraiya", "Iruka", "Kakashi", "Yamato"], a: 2 },
  { q: "C·ª≠u Vƒ© c√≥ t√™n th·∫≠t l√† g√¨?", o: ["Shukaku", "Matatabi", "Kurama", "Gyuki"], a: 2 },
  { q: "Tuy·ªát k·ªπ ƒë·∫∑c tr∆∞ng nh·∫•t c·ªßa Naruto l√† g√¨?", o: ["Chidori", "Rasengan", "Amaterasu", "Tsukuyomi"], a: 1 },
  { q: "Ai l√† ng∆∞·ªùi ƒë√£ th·∫£m s√°t gia t·ªôc Uchiha?", o: ["Madara", "Obito", "Itachi", "Sasuke"], a: 2 },
  { q: "Hokage ƒë·ªá T·ª© c√≥ m·ªëi quan h·ªá g√¨ v·ªõi Naruto?", o: ["Th·∫ßy", "Cha", "Anh trai", "Kh√¥ng c√≥ quan h·ªá"], a: 1 },
  { q: "T·ªï ch·ª©c ph·∫£n di·ªán ch√≠nh trong Naruto Shippuden l√† g√¨?", o: ["Kara", "Akatsuki", "Orochi", "Root"], a: 1 },
  { q: "Con m·∫Øt c·ªßa gia t·ªôc Hyuga ƒë∆∞·ª£c g·ªçi l√† g√¨?", o: ["Sharingan", "Rinnegan", "Byakugan", "Tenseigan"], a: 2 },
  { q: 'Ai l√† "Sannin huy·ªÅn tho·∫°i" ƒë√£ nh·∫≠n Naruto l√†m h·ªçc tr√≤?', o: ["Tsunade", "Orochimaru", "Jiraiya", "Danzo"], a: 2 },
  { q: "L√†ng L√° n·∫±m ·ªü qu·ªëc gia n√†o?", o: ["Th·ªï Qu·ªëc", "H·ªèa Qu·ªëc", "Th·ªßy Qu·ªëc", "L√¥i Qu·ªëc"], a: 1 },

  // ===== ONE PUNCH MAN (10) =====
  { q: "Saitama ƒë√£ t·∫≠p luy·ªán nh∆∞ th·∫ø n√†o ƒë·ªÉ tr·ªü n√™n m·∫°nh m·∫Ω?", o: ["ƒÇn tr√°i √°c qu·ª∑", "100 c√°i h√≠t ƒë·∫•t, g·∫≠p b·ª•ng, squat v√† ch·∫°y 10km m·ªói ng√†y", "C·∫•y gh√©p gen qu√°i v·∫≠t", "Tu luy·ªán tr√™n n√∫i"], a: 1 },
  { q: "ƒê·ªá t·ª≠ t·ª± nh·∫≠n c·ªßa Saitama l√† ai?", o: ["Genos", "King", "Mumen Rider", "Bang"], a: 0 },
  { q: "X·∫øp h·∫°ng anh h√πng c·ªßa Saitama khi m·ªõi gia nh·∫≠p Hi·ªáp h·ªôi l√† g√¨?", o: ["L·ªõp S", "L·ªõp A", "L·ªõp B", "L·ªõp C"], a: 3 },
  { q: 'Anh h√πng n√†o ƒë∆∞·ª£c m·ªánh danh l√† "Ng∆∞·ªùi ƒë√†n √¥ng m·∫°nh nh·∫•t th·∫ø gi·ªõi" (nh∆∞ng th·ª±c t·∫ø l√† hi·ªÉu l·∫ßm)?', o: ["Saitama", "King", "Blast", "Silver Fang"], a: 1 },
  { q: "K·∫ª th√π ƒë·∫ßu ti√™n m√† Saitama ti√™u di·ªát trong anime (con cua) t√™n l√† g√¨?", o: ["Boros", "Crablante", "Deep Sea King", "Carnage Kabuto"], a: 1 },
  { q: "Th√†nh ph·ªë n∆°i Saitama sinh s·ªëng l√† th√†nh ph·ªë n√†o?", o: ["Th√†nh ph·ªë A", "Th√†nh ph·ªë Z", "Th√†nh ph·ªë S", "Th√†nh ph·ªë Q"], a: 1 },
  { q: 'Tatsumaki c√≥ bi·ªát danh l√† g√¨?', o: ["ƒê·ª©a con c·ªßa b√£o", "ƒê·ª©a con c·ªßa qu·ª∑", "ƒê·ª©a con c·ªßa b√£o t·ªë", "C∆°n l·ªëc kinh ho√†ng"], a: 3 },
  { q: "Ai l√† l√£nh ƒë·∫°o c·ªßa nh√≥m qu√°i v·∫≠t x√¢m l∆∞·ª£c Tr√°i ƒë·∫•t b·∫±ng phi thuy·ªÅn?", o: ["Orochi", "Garou", "Lord Boros", "Black Sperm"], a: 2 },
  { q: 'V≈© kh√≠ c·ªßa "Ch√πy S·∫Øt Hi·ªáp Sƒ©" (Metal Bat) l√† g√¨?', o: ["Ki·∫øm", "G·∫≠y b√≥ng ch√†y", "R√¨u", "Tay kh√¥ng"], a: 1 },
  { q: '"Th·ª£ sƒÉn anh h√πng" l√† bi·ªát danh c·ªßa ai?', o: ["Speed-o'-Sound Sonic", "Garou", "Suiryu", "Tanktop Master"], a: 1 },

  // ===== THANH G∆Ø∆†M DI·ªÜT QU·ª∂ (10) =====
  { q: "Tanjiro s·ª≠ d·ª•ng h∆°i th·ªü kh·ªüi ƒë·∫ßu n√†o?", o: ["H∆°i th·ªü c·ªßa N∆∞·ªõc", "H∆°i th·ªü c·ªßa L·ª≠a", "H∆°i th·ªü c·ªßa S·∫•m s√©t", "H∆°i th·ªü c·ªßa Gi√≥"], a: 0 },
  { q: "Nezuko di chuy·ªÉn ban ng√†y b·∫±ng c√°ch n√†o?", o: ["ƒêeo k√≠nh r√¢m", "Tr·ªën trong h·ªôp g·ªó", "Che √¥", "U·ªëng thu·ªëc"], a: 1 },
  { q: "Ai l√† ch√∫a t·ªÉ c·ªßa lo√†i qu·ª∑?", o: ["Kokushibo", "Akaza", "Kibutsuji Muzan", "Douma"], a: 2 },
  { q: "Ki·∫øm sƒ© m·∫°nh nh·∫•t trong d√†n Tr·ª• c·ªôt (x√©t v·ªÅ th·ªÉ ch·∫•t) l√† ai?", o: ["Giyu", "Rengoku", "Gyomei (Nham Tr·ª•)", "Sanemi"], a: 2 },
  { q: "Ng∆∞·ªùi b·∫°n c·ªßa Tanjiro, th∆∞·ªùng xuy√™n ƒëeo ƒë·∫ßu heo l√† ai?", o: ["Zenitsu", "Inosuke", "Genya", "Sabito"], a: 1 },
  { q: "Thanh ki·∫øm c·ªßa Tanjiro c√≥ m√†u g√¨?", o: ["Xanh", "ƒê·ªè", "ƒêen", "V√†ng"], a: 2 },
  { q: 'B·∫≠c th·∫ßy d·∫°y Tanjiro "H∆°i th·ªü c·ªßa N∆∞·ªõc" l√† ai?', o: ["Urokodaki Sakonji", "Jigoro Kuwajima", "Shinjuro Rengoku", "Kagaya Ubuyashiki"], a: 0 },
  { q: "K·ªπ nƒÉng ƒë·∫∑c bi·ªát c·ªßa Zenitsu l√† g√¨?", o: ["Ch·∫°y nhanh", "Chi·∫øn ƒë·∫•u khi ƒëang ng·ªß", "Nh√¨n xuy√™n th·∫•u", "Kh·ª©u gi√°c nh·∫°y b√©n"], a: 1 },
  { q: "Vi√™m Tr·ª• Rengoku Kyojuro xu·∫•t hi·ªán ch√≠nh trong ph·∫ßn phim n√†o?", o: ["Ph·ªë ƒë√®n ƒë·ªè", "L√†ng th·ª£ r√®n", "Chuy·∫øn t√†u v√¥ t·∫≠n", "Ph√°o ƒë√†i v√¥ c·ª±c"], a: 2 },
  { q: "Hoa n√†o l√† n·ªói s·ª£ h√£i c·ªßa lo√†i qu·ª∑?", o: ["Hoa Anh ƒë√†o", "Hoa H·ªìng", "Hoa T·ª≠ ƒë·∫±ng", "Hoa H∆∞·ªõng d∆∞∆°ng"], a: 2 },

  // ===== CONAN (10) =====
  { q: "T√™n th·∫≠t c·ªßa Th√°m t·ª≠ l·ª´ng danh Conan l√† g√¨?", o: ["Ran Mouri", "Heiji Hattori", "Kudo Shinichi", "Saguru Hakuba"], a: 2 },
  { q: "T·ªï ch·ª©c √Åo ƒëen c√≥ b√≠ danh l·∫•y c·∫£m h·ª©ng t·ª´ ƒë√¢u?", o: ["T√™n c√°c lo√†i hoa", "T√™n c√°c lo·∫°i r∆∞·ª£u", "T√™n c√°c h√†nh tinh", "T√™n c√°c con v·∫≠t"], a: 1 },
  { q: "Ai l√† ng∆∞·ªùi ƒë√£ cho Shinichi u·ªëng thu·ªëc teo nh·ªè APTX 4869?", o: ["Gin", "Vodka", "Vermouth", "Bourbon"], a: 0 },
  { q: "C√¥ b√© Ai Haibara v·ªën l√† th√†nh vi√™n c·ªßa T·ªï ch·ª©c √Åo ƒëen v·ªõi m·∫≠t danh l√† g√¨?", o: ["Sherry", "Chianti", "Kir", "Tequila"], a: 0 },
  { q: "Ti·∫øn sƒ© Agasa ƒë√£ ph√°t minh ra v·∫≠t d·ª•ng n√†o gi√∫p Conan gi·∫£ gi·ªçng ng∆∞·ªùi kh√°c?", o: ["Gi√†y tƒÉng l·ª±c", "N∆° bi·∫øn ƒë·ªïi gi·ªçng n√≥i", "ƒê·ªìng h·ªì g√¢y m√™", "V√°n tr∆∞·ª£t si√™u t·ªëc"], a: 1 },
  { q: "Th√°m t·ª≠ mi·ªÅn T√¢y, ƒë·ªëi th·ªß v√† c≈©ng l√† b·∫°n th√¢n c·ªßa Conan l√† ai?", o: ["Hakuba", "Heiji Hattori", "Akai Shuichi", "Amuro Tooru"], a: 1 },
  { q: '"Si√™u ƒë·∫°o ch√≠ch" th∆∞·ªùng xuy√™n ƒë·ªëi ƒë·∫ßu v·ªõi Conan l√† ai?', o: ["Kaitou Kid", "Lupin III", "Jirokichi Suzuki", "Makoto Kyogoku"], a: 0 },
  { q: "B·ªë c·ªßa Shinichi, Kudo Yusaku, l√†m ngh·ªÅ g√¨?", o: ["C·∫£nh s√°t", "B√°c sƒ©", "Ti·ªÉu thuy·∫øt gia trinh th√°m", "Di·ªÖn vi√™n"], a: 2 },
  { q: "Ran Mouri gi·ªèi m√¥n v√µ n√†o nh·∫•t?", o: ["Judo", "Aikido", "Karate", "Kendo"], a: 2 },
  { q: 'Th√°m t·ª≠ "ng·ªß g·∫≠t" Kogoro Mouri t·ª´ng l√†m ngh·ªÅ g√¨ tr∆∞·ªõc khi l√†m th√°m t·ª≠ t∆∞?', o: ["ƒê·∫ßu b·∫øp", "C·∫£nh s√°t", "Gi√°o vi√™n", "Lu·∫≠t s∆∞"], a: 1 },

  // ===== ATTACK ON TITAN (10) =====
  { q: "B·ª©c t∆∞·ªùng ngo√†i c√πng b·∫£o v·ªá con ng∆∞·ªùi t√™n l√† g√¨?", o: ["Wall Rose", "Wall Maria", "Wall Sina", "Wall Titan"], a: 1 },
  { q: "Eren Yeager s·ªü h·ªØu s·ª©c m·∫°nh c·ªßa bao nhi√™u Titan (t√≠nh ƒë·∫øn cu·ªëi ph·∫ßn 3)?", o: ["1", "2", "3", "4"], a: 1 },
  { q: 'ƒê·ªôi tr∆∞·ªüng ƒê·ªôi Trinh s√°t ƒë∆∞·ª£c m·ªánh danh l√† "Chi·∫øn binh m·∫°nh nh·∫•t nh√¢n lo·∫°i" l√† ai?', o: ["Erwin Smith", "Levi Ackerman", "Jean Kirstein", "Reiner Braun"], a: 1 },
  { q: "Titan n√†o ƒë√£ ph√° h·ªßy c·ªïng th√†nh Wall Maria ·ªü t·∫≠p 1?", o: ["Titan Ti·∫øn c√¥ng", "Titan Thi·∫øt gi√°p", "Titan ƒê·∫°i h√¨nh", "Titan N·ªØ h√¨nh"], a: 2 },
  { q: "Mikasa lu√¥n ƒëeo v·∫≠t ph·∫©m g√¨ m√† Eren t·∫∑ng?", o: ["Nh·∫´n", "KhƒÉn qu√†ng c·ªï", "V√≤ng tay", "D√¢y chuy·ªÅn"], a: 1 },
  { q: "S·ªü th√≠ch ƒë·∫∑c bi·ªát nh·∫•t c·ªßa Levi l√† g√¨?", o: ["Ng·ªß", "ƒÇn", "D·ªçn d·∫πp v·ªá sinh", "ƒê·ªçc s√°ch"], a: 2 },
  { q: "Gia t·ªôc n√†o mi·ªÖn nhi·ªÖm v·ªõi kh·∫£ nƒÉng x√≥a tr√≠ nh·ªõ c·ªßa Titan Th·ªßy t·ªï?", o: ["Braun", "Ackerman", "Smith", "Arlert"], a: 1 },
  { q: "Ng∆∞·ªùi k·∫ø th·ª´a Titan ƒê·∫°i h√¨nh sau Bertholdt l√† ai?", o: ["Eren", "Armin", "Connie", "Hange"], a: 1 },
  { q: "B√™n trong c√°c b·ª©c t∆∞·ªùng th·ª±c ch·∫•t l√† g√¨?", o: ["G·∫°ch ƒë√°", "C√°c Titan kh·ªïng l·ªì", "Kim lo·∫°i", "C√¢y c·ªëi"], a: 1 },
  { q: "T√°c gi·∫£ c·ªßa b·ªô truy·ªán Attack on Titan l√† ai?", o: ["Eiichiro Oda", "Masashi Kishimoto", "Hajime Isayama", "Tite Kubo"], a: 2 },

  // ===== HUNTER X HUNTER (10) =====
  { q: "Gon Freecss ƒëi thi Hunter ƒë·ªÉ t√¨m ai?", o: ["M·∫π", "Cha", "Ch√∫", "K·∫ª th√π"], a: 1 },
  { q: "B·∫°n th√¢n nh·∫•t c·ªßa Gon, xu·∫•t th√¢n t·ª´ gia ƒë√¨nh s√°t th·ªß l√† ai?", o: ["Kurapika", "Leorio", "Killua", "Hisoka"], a: 2 },
  { q: "NƒÉng l·ª±c ƒë·∫∑c bi·ªát m√† c√°c Hunter s·ª≠ d·ª•ng ƒë∆∞·ª£c g·ªçi l√† g√¨?", o: ["Chakra", "Haki", "Ni·ªám (Nen)", "Ma l·ª±c"], a: 2 },
  { q: "Kurapika thu·ªôc t·ªôc ng∆∞·ªùi n√†o c√≥ ƒë√¥i m·∫Øt chuy·ªÉn ƒë·ªè khi x√∫c ƒë·ªông?", o: ["Kurta", "Uchiha", "Zoldyck", "Meteor"], a: 0 },
  { q: "V≈© kh√≠ m√† Killua th∆∞·ªùng s·ª≠ d·ª•ng ·ªü giai ƒëo·∫°n ƒë·∫ßu l√† g√¨?", o: ["Ki·∫øm", "Yo-yo", "S√∫ng", "M√≥ng tay s·∫Øc nh·ªçn"], a: 3 },
  { q: "Ai l√† ch·ªß t·ªãch hi·ªáp h·ªôi Hunter (ƒë√£ hy sinh khi ƒë·∫•u v·ªõi Ki·∫øn V∆∞∆°ng)?", o: ["Ging Freecss", "Isaac Netero", "Pariston Hill", "Silva Zoldyck"], a: 1 },
  { q: "BƒÉng nh√≥m t·ªôi ph·∫°m kh√©t ti·∫øng m√† Kurapika mu·ªën ti√™u di·ªát l√†?", o: ["Akatsuki", "Phantom Troupe (BƒÉng Nh·ªán)", "Espada", "League of Villains"], a: 1 },
  { q: "Ki·∫øn V∆∞∆°ng Chimera t√™n l√† g√¨?", o: ["Meruem", "Pouf", "Youpi", "Pitou"], a: 0 },
  { q: "M√¥n c·ªù m√† Meruem ch∆°i c√πng Komugi t√™n l√† g√¨?", o: ["Shogi", "C·ªù v√¢y", "Gungi", "C·ªù t∆∞·ªõng"], a: 2 },
  { q: "Cha c·ªßa Gon t√™n l√† g√¨?", o: ["Kite", "Ging", "Silva", "Zeno"], a: 1 },

  // ===== FAIRY TAIL (10) =====
  { q: "Natsu Dragneel l√† m·ªôt S√°t Long Nh√¢n h·ªá g√¨?", o: ["H·ªèa", "Thi·∫øt", "Thi√™n Kh√¥ng", "L√¥i"], a: 0 },
  { q: "Ch√∫ m√®o bi·∫øt bay, b·∫°n ƒë·ªìng h√†nh c·ªßa Natsu t√™n l√† g√¨?", o: ["Carla", "Happy", "Panther Lily", "Lector"], a: 1 },
  { q: "Ph√°p s∆∞ s·ª≠ d·ª•ng Ho√°n ph·ª•c (Thay ƒë·ªïi gi√°p tr·ª• v√† v≈© kh√≠) m·∫°nh nh·∫•t h·ªôi l√† ai?", o: ["Lucy", "Erza Scarlet", "Mirajane", "Wendy"], a: 1 },
  { q: "H·ªôi tr∆∞·ªüng ƒë·ªùi th·ª© 3 c·ªßa Fairy Tail l√† ai?", o: ["Makarov", "Gildarts", "Laxus", "Mavis"], a: 0 },
  { q: "Lucy Heartfilia s·ª≠ d·ª•ng lo·∫°i ma ph√°p n√†o?", o: ["S√°t Long Thu·∫≠t", "Tinh Linh Ma Ph√°p", "BƒÉng thu·∫≠t", "H·∫Øc ma ph√°p"], a: 1 },
  { q: "ƒê·ªëi th·ªß truy·ªÅn ki·∫øp c·ªßa Natsu trong h·ªôi, ng∆∞·ªùi s·ª≠ d·ª•ng BƒÉng thu·∫≠t l√† ai?", o: ["Lyon", "Gray Fullbuster", "Juvia", "Gajeel"], a: 1 },
  { q: "Ph√°p s∆∞ ƒëen huy·ªÅn tho·∫°i, k·∫ª ph·∫£n di·ªán ch√≠nh c·ªßa truy·ªán l√† ai?", o: ["Acnologia", "Zeref", "Hades", "Mard Geer"], a: 1 },
  { q: "Con r·ªìng ƒë√£ nu√¥i d∆∞·ª°ng Natsu t√™n l√† g√¨?", o: ["Igneel", "Metalicana", "Grandeeney", "Weisslogia"], a: 0 },
  { q: "Bi·ªát danh c·ªßa Erza l√† g√¨?", o: ["N·ªØ ho√†ng bƒÉng gi√°", "N·ªØ ho√†ng Ti√™n (Titania)", "S√°t Long Nh√¢n", "Ma nh√¢n"], a: 1 },
  { q: "Ma ph√°p m·∫°nh nh·∫•t c·ªßa h·ªôi Fairy Tail l√† g√¨?", o: ["Fairy Gliter", "Fairy Law", "Fairy Sphere", "T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng"], a: 3 },

  // ===== BLUE LOCK (10) =====
  { q: "M·ª•c ti√™u c·ªßa d·ª± √°n Blue Lock l√† t·∫°o ra v·ªã tr√≠ n√†o xu·∫•t s·∫Øc nh·∫•t th·∫ø gi·ªõi?", o: ["Th·ªß m√¥n", "Ti·ªÅn v·ªá", "Ti·ªÅn ƒë·∫°o", "H·∫≠u v·ªá"], a: 2 },
  { q: "Nh√¢n v·∫≠t ch√≠nh Isagi Yoichi c√≥ v≈© kh√≠ l·ª£i h·∫°i nh·∫•t l√† g√¨?", o: ["T·ªëc ƒë·ªô", "S·ª©c m·∫°nh c∆° b·∫Øp", "Nh√£n quan chi·∫øn thu·∫≠t (Si√™u th·ªã gi√°c)", "K·ªπ thu·∫≠t c√° nh√¢n"], a: 2 },
  { q: "Ng∆∞·ªùi ƒë·ª©ng ƒë·∫ßu v√† ƒëi·ªÅu h√†nh d·ª± √°n Blue Lock l√† ai?", o: ["Anri Teieri", "Ego Jinpachi", "Noel Noa", "Itoshi Sae"], a: 1 },
  { q: "Th·∫ßn t∆∞·ª£ng c·ªßa Isagi, ti·ªÅn ƒë·∫°o s·ªë 1 th·∫ø gi·ªõi l√† ai?", o: ["Noel Noa", "Chris Prince", "Lavinho", "Marc Snuffy"], a: 0 },
  { q: 'Nh√¢n v·∫≠t ƒë∆∞·ª£c m·ªánh danh l√† "C√¥ng ch√∫a" v·ªõi m√°i t√≥c d√†i v√† t·ªëc ƒë·ªô ch·∫°y c·ª±c nhanh?', o: ["Bachira", "Chigiri", "Kunigami", "Nagi"], a: 1 },
  { q: "C·∫ßu th·ªß thi√™n t√†i lu√¥n coi b√≥ng ƒë√° l√† phi·ªÅn ph·ª©c nh∆∞ng c·ª±c gi·ªèi trong vi·ªác ki·ªÉm so√°t b√≥ng?", o: ["Reo", "Nagi Seishiro", "Barou", "Rin"], a: 1 },
  { q: '"Vua" c·ªßa s√¢n c·ªè v·ªõi l·ªëi ƒë√° √≠ch k·ª∑ v√† ƒë·∫ßy s·ª©c m·∫°nh l√† ai?', o: ["Isagi", "Barou Shoei", "Niko", "Zantetsu"], a: 1 },
  { q: "Ng∆∞·ªùi anh trai c·ªßa Itoshi Rin, c≈©ng l√† m·ªôt thi√™n t√†i b√≥ng ƒë√° Nh·∫≠t B·∫£n l√† ai?", o: ["Itoshi Sae", "Itoshi Shidou", "Itoshi Kai", "Itoshi Ryosuke"], a: 0 },
  { q: 'Bachira Meguru lu√¥n tin r·∫±ng c√≥ m·ªôt th·ª© g√¨ ƒë√≥ b√™n trong m√¨nh th√¥i th√∫c ch∆°i b√≥ng, ƒë√≥ l√† g√¨?', o: ["Thi√™n th·∫ßn", "Qu√°i v·∫≠t (Monster)", "Ng·ªçn l·ª≠a", "√Åp l·ª±c"], a: 1 },
  { q: "Trong tr·∫≠n ƒë·∫•u v·ªõi U20 Nh·∫≠t B·∫£n, Blue Lock ƒë√£ th·∫Øng v·ªõi t·ªâ s·ªë bao nhi√™u?", o: ["3-2", "4-3", "2-1", "5-4"], a: 1 },

  // ===== JUJUTSU KAISEN (10) =====
  { q: "Itadori Yuji ƒë√£ nu·ªët v·∫≠t th·ªÉ nguy·ªÅn ch√∫ n√†o ·ªü t·∫≠p 1?", o: ["Ng√≥n tay c·ªßa Sukuna", "Con m·∫Øt c·ªßa Sukuna", "Tim c·ªßa Sukuna", "X∆∞∆°ng c·ªßa Sukuna"], a: 0 },
  { q: "Ch√∫ thu·∫≠t s∆∞ m·∫°nh nh·∫•t th·ªùi ƒë·∫°i hi·ªán nay l√† ai?", o: ["Nanami", "Gojo Satoru", "Geto Suguru", "Megumi"], a: 1 },
  { q: "K·ªπ thu·∫≠t nguy·ªÅn ch√∫ c·ªßa Fushiguro Megumi l√† g√¨?", o: ["X√≠ch huy·∫øt thao thu·∫≠t", "Th·∫≠p ch·ªßng ·∫£nh ph√°p thu·∫≠t", "BƒÉng thu·∫≠t", "V√¥ h·∫° h·∫°n"], a: 1 },
  { q: "N·ªØ ch√≠nh trong nh√≥m c·ªßa Yuji, s·ª≠ d·ª•ng b√∫a v√† ƒëinh l√† ai?", o: ["Maki", "Nobara Kugisaki", "Miwa", "Mai"], a: 1 },
  { q: "Ai l√† ng∆∞·ªùi lu√¥n ƒëeo bƒÉng b·ªãt m·∫Øt (ho·∫∑c k√≠nh r√¢m)?", o: ["Inumaki", "Gojo", "Panda", "Toji"], a: 1 },
  { q: 'V·∫≠t ch·ª©a c·ªßa "Vua l·ªùi nguy·ªÅn" Ryomen Sukuna l√† ai?', o: ["Megumi", "Yuji", "Yuta", "Mahito"], a: 1 },
  { q: "T√¨nh tr·∫°ng c·ªßa Inumaki Toge l√† g√¨ khi anh ·∫•y s·ª≠ d·ª•ng ng√¥n t·ª´?", o: ["Ch·ªâ n√≥i t√™n c√°c th√†nh ph·∫ßn c∆°m n·∫Øm", "Kh√¥ng bao gi·ªù n√≥i", "Ch·ªâ n√≥i ti·∫øng Anh", "Ch·ªâ n√≥i th·∫ßm"], a: 0 },
  { q: "Ch√∫ linh ƒë·∫∑c c·∫•p lu√¥n mu·ªën thay th·∫ø con ng∆∞·ªùi, c√≥ kh·∫£ nƒÉng bi·∫øn ƒë·ªïi linh h·ªìn l√† ai?", o: ["Jogo", "Hanami", "Mahito", "Dagon"], a: 2 },
  { q: "Ng∆∞·ªùi b·∫°n th√¢n nh·∫•t c·ªßa Gojo Satoru, ng∆∞·ªùi sau n√†y tr·ªü th√†nh ph·∫£n di·ªán l√† ai?", o: ["Toji Fushiguro", "Suguru Geto", "Kento Nanami", "Choso"], a: 1 },
  { q: "B√†nh tr∆∞·ªõng l√£nh ƒë·ªãa c·ªßa Gojo Satoru c√≥ t√™n l√† g√¨?", o: ["Ph·ª•c ma ng·ª± ƒëi·ªán", "V√¥ l∆∞·ª£ng kh√¥ng x·ª©", "Kh·∫£m h·ª£p ·∫ø ƒë√¨nh", "T·ª± b·∫ø vi√™n ƒë·ªën kh·ªèa"], a: 1 },

  // ====== 100 C√ÇU V√íNG 2 (Anime 2.txt) ======
  // ===== DRAGON BALL (10) =====
  { q: "Goku thu·ªôc t·ªôc ng∆∞·ªùi n√†o?", o: ["Namek", "Saiyan", "Tr√°i ƒê·∫•t", "Frieza"], a: 1 },
  { q: 'Ai l√† ng∆∞·ªùi ƒë√£ d·∫°y Goku k·ªπ thu·∫≠t "Kamehameha"?', o: ["Quy L√£o (Th·∫ßn R√πa)", "Th∆∞·ª£ng ƒê·∫ø", "King Kai", "Whis"], a: 0 },
  { q: "V·ª£ c·ªßa Vegeta l√† ai?", o: ["Chi-Chi", "Bulma", "Videl", "18"], a: 1 },
  { q: "H√†nh tinh qu√™ h∆∞∆°ng c·ªßa Goku t√™n l√† g√¨?", o: ["Namek", "Vegeta", "Sadala", "Earth"], a: 1 },
  { q: "K·∫ª th√π n√†o ƒë√£ khi·∫øn Goku l·∫ßn ƒë·∫ßu ti√™n bi·∫øn th√†nh Super Saiyan?", o: ["Vegeta", "Cell", "Frieza", "Buu"], a: 2 },
  { q: "T√™n th·∫≠t c·ªßa Android 18 l√† g√¨?", o: ["Lapis", "Lazuli", "Marron", "Videl"], a: 1 },
  { q: "H·ª£p th·ªÉ gi·ªØa Goku v√† Vegeta b·∫±ng b√¥ng tai Potara t√™n l√† g√¨?", o: ["Gogeta", "Vegito", "Gotenks", "Veku"], a: 1 },
  { q: "Ai l√† v·ªã Th·∫ßn H·ªßy Di·ªát c·ªßa V≈© tr·ª• 7?", o: ["Champa", "Beerus", "Belmod", "Heles"], a: 1 },
  { q: "R·ªìng th·∫ßn Tr√°i ƒê·∫•t c√≥ t√™n l√† g√¨?", o: ["Porunga", "Shenron", "Super Shenron", "Zalama"], a: 1 },
  { q: "Con trai ƒë·∫ßu l√≤ng c·ªßa Goku t√™n l√† g√¨?", o: ["Goten", "Gohan", "Trunks", "Pan"], a: 1 },

  // ===== DEATH NOTE (10) =====
  { q: "T·ª≠ th·∫ßn ƒë√°nh r∆°i cu·ªën s·ªï xu·ªëng nh√¢n gian t√™n l√† g√¨?", o: ["Rem", "Ryuk", "Sidoh", "Gelus"], a: 1 },
  { q: "Ryuk th√≠ch ƒÉn lo·∫°i qu·∫£ n√†o nh·∫•t?", o: ["Chu·ªëi", "Cam", "T√°o", "D√¢u t√¢y"], a: 2 },
  { q: "Bi·ªát danh m√† th·∫ø gi·ªõi ƒë·∫∑t cho k·∫ª s√°t nh√¢n d√πng s·ªï t·ª≠ th·∫ßn l√† g√¨?", o: ["L", "Kira", "Near", "Mello"], a: 1 },
  { q: "Th√°m t·ª≠ thi√™n t√†i L c√≥ t√™n th·∫≠t l√† g√¨?", o: ["Nate River", "Mihael Keehl", "L Lawliet", "Quillsh Wammy"], a: 2 },
  { q: "Misa Amane s·ªü h·ªØu ƒë√¥i m·∫Øt c·ªßa ai ƒë·ªÉ th·∫•y ƒë∆∞·ª£c t√™n ng∆∞·ªùi kh√°c?", o: ["Th·∫ßn linh", "√Åc qu·ª∑", "T·ª≠ th·∫ßn", "Kh√¥ng c√≥"], a: 2 },
  { q: 'V·∫≠t t·∫ø l·ªÖ ƒë·ªÉ ƒë·ªïi l·∫•y "ƒê√¥i m·∫Øt T·ª≠ th·∫ßn" l√† g√¨?', o: ["M·ªôt b√†n tay", "M·ªôt n·ª≠a tu·ªïi th·ªç", "Linh h·ªìn", "K√Ω ·ª©c"], a: 1 },
  { q: "Ai l√† ng∆∞·ªùi k·∫ø v·ªã ch√≠nh th·ª©c c·ªßa L?", o: ["Mello", "Near", "Light", "Watari"], a: 1 },
  { q: "Light Yagami ƒë√£ gi·∫•u cu·ªën s·ªï trong v·∫≠t d·ª•ng n√†o ƒë·ªÉ tr√°nh b·ªã ph√°t hi·ªán?", o: ["NgƒÉn k√©o b√†n c√≥ b·∫´y", "Trong g·ªëi", "D∆∞·ªõi s√†n nh√†", "Trong k√©t s·∫Øt"], a: 0 },
  { q: "T·ªï ch·ª©c n√†o ƒë∆∞·ª£c th√†nh l·∫≠p ƒë·ªÉ truy b·∫Øt Kira?", o: ["CIA", "FBI", "NPA (C·∫£nh s√°t Nh·∫≠t)", "SPK"], a: 2 },
  { q: "Cu·ªën s·ªï Death Note c√≥ m√†u g√¨?", o: ["Tr·∫Øng", "ƒê·ªè", "ƒêen", "Xanh l√°"], a: 2 },

  // ===== MY HERO ACADEMIA (10) =====
  { q: "NƒÉng l·ª±c (Quirk) c·ªßa nh√¢n v·∫≠t ch√≠nh Izuku Midoriya t√™n l√† g√¨?", o: ["Explosion", "One For All", "All For One", "Half-Cold Half-Hot"], a: 1 },
  { q: "Bakugo Katsuki c√≥ nƒÉng l·ª±c t·∫°o ra v·ª• n·ªï t·ª´ ƒë√¢u?", o: ["M·∫Øt", "M·ªì h√¥i tay", "Mi·ªáng", "Ch√¢n"], a: 1 },
  { q: "T√™n anh h√πng c·ªßa Midoriya l√† g√¨?", o: ["Deku", "Ground Zero", "Shoto", "Ingenium"], a: 0 },
  { q: "Tr∆∞·ªùng trung h·ªçc ƒë√†o t·∫°o anh h√πng h√†ng ƒë·∫ßu l√† g√¨?", o: ["Shiketsu", "U.A.", "Ketsubutsu", "Seiai"], a: 1 },
  { q: "K·∫ª th√π truy·ªÅn ki·∫øp c·ªßa All Might l√† ai?", o: ["Tomura Shigaraki", "All For One", "Dabi", "Stain"], a: 1 },
  { q: "Shoto Todoroki s·ªü h·ªØu nƒÉng l·ª±c g√¨?", o: ["Ch·ªâ c√≥ BƒÉng", "Ch·ªâ c√≥ L·ª≠a", "N·ª≠a BƒÉng N·ª≠a L·ª≠a", "Bay l∆∞·ª£n"], a: 2 },
  { q: "Ai l√† l·ªõp tr∆∞·ªüng l·ªõp 1-A?", o: ["Midoriya", "Iida Tenya", "Momo Yaoyorozu", "Bakugo"], a: 1 },
  { q: "Th·∫ßy ch·ªß nhi·ªám c·ªßa l·ªõp 1-A l√† ai?", o: ["Present Mic", "Eraser Head (Aizawa)", "Midnight", "Endeavor"], a: 1 },
  { q: "Anh h√πng s·ªë 2 (sau n√†y l√† s·ªë 1) c√≥ nƒÉng l·ª±c ƒëi·ªÅu khi·ªÉn l·ª≠a l√† ai?", o: ["Endeavor", "Hawks", "Best Jeanist", "Kamui Woods"], a: 0 },
  { q: "S·ª©c m·∫°nh One For All ƒë∆∞·ª£c truy·ªÅn l·∫°i qua h√¨nh th·ª©c n√†o?", o: ["Ch·∫°m tay", "ƒÇn s·ª£i t√≥c", "Suy nghƒ©", "Chi·∫øn ƒë·∫•u"], a: 1 },

  // ===== BLACK CLOVER (10) =====
  { q: "Asta sinh ra kh√¥ng c√≥ ma l·ª±c, nh∆∞ng s·ªü h·ªØu cu·ªën s√°ch ma ph√°p g√¨?", o: ["C·ªè 3 l√°", "C·ªè 4 l√°", "C·ªè 5 l√°", "Kh√¥ng c√≥ c·ªè n√†o"], a: 2 },
  { q: "Yuno s·ªü h·ªØu tinh linh nguy√™n t·ªë n√†o?", o: ["H·ªèa", "Th·ªßy", "Phong", "Th·ªï"], a: 2 },
  { q: "ƒê·ªôi k·ªµ sƒ© ma ph√°p m√† Asta gia nh·∫≠p t√™n l√† g√¨?", o: ["Kim S·∫Øc B√¨nh Minh", "H·∫Øc B·ªôc Ng∆∞u (Black Bulls)", "Ng√¢n D·ª±c ƒê·∫°i ∆Øng", "H·ªìng Li√™n S∆∞ T·ª≠"], a: 1 },
  { q: "Ai l√† ƒëo√†n tr∆∞·ªüng c·ªßa ƒë·ªôi H·∫Øc B·ªôc Ng∆∞u?", o: ["Yami Sukehiro", "William Vangeance", "Nozel Silva", "Fuegoleon"], a: 0 },
  { q: "∆Ø·ªõc m∆° c·ªßa c·∫£ Asta v√† Yuno l√† tr·ªü th√†nh g√¨?", o: ["Vua H·∫£i T·∫∑c", "Ma Ph√°p V∆∞∆°ng", "ƒê·ªôi tr∆∞·ªüng", "Hi·ªáp sƒ© th√°nh"], a: 1 },
  { q: "Noelle Silva thu·ªôc ho√†ng t·ªôc nh∆∞ng ban ƒë·∫ßu g·∫∑p kh√≥ khƒÉn g√¨?", o: ["Kh√¥ng c√≥ ma l·ª±c", "Kh√¥ng ki·ªÉm so√°t ƒë∆∞·ª£c ma ph√°p", "S·ª£ n∆∞·ªõc", "Kh√¥ng c√≥ ch·ªïi bay"], a: 1 },
  { q: "Thanh ki·∫øm ƒë·∫ßu ti√™n Asta r√∫t ra t·ª´ cu·ªën s√°ch c√≥ t√™n l√† g√¨?", o: ["ƒêo·∫°n Ma Ki·∫øm", "Tr·∫£m Ma Ki·∫øm", "Di·ªát Ma Ki·∫øm", "Ng·ª± Ma Ki·∫øm"], a: 0 },
  { q: "Ma Ph√°p V∆∞∆°ng hi·ªán t·∫°i (ƒë·ªùi th·ª© 28) l√† ai?", o: ["Lumiere", "Julius Novachrono", "Marx", "Patolli"], a: 1 },
  { q: "Linh v·∫≠t (con chim) lu√¥n ƒëi theo Asta t√™n l√† g√¨?", o: ["Nero", "Happy", "Puck", "Akamaru"], a: 0 },
  { q: "K·∫ª th√π ch√≠nh trong ph·∫ßn ƒë·∫ßu c·ªßa phim l√† t·ªï ch·ª©c n√†o?", o: ["Akatsuki", "B·∫°ch D·∫° Ma Nh√£n", "Spade Kingdom", "Eye of the Midnight Sun"], a: 1 },

  // ===== SAO (10) =====
  { q: "T√™n th·∫≠t c·ªßa nh√¢n v·∫≠t ch√≠nh Kirito l√† g√¨?", o: ["Kirigaya Kazuto", "Yuuki Asuna", "Kayaba Akihiko", "Tsuboi Ryotaro"], a: 0 },
  { q: "V≈© kh√≠ ƒë·∫∑c tr∆∞ng c·ªßa Kirito trong SAO l√† g√¨?", o: ["Th∆∞∆°ng", "Cung", "Song ki·∫øm", "R√¨u"], a: 2 },
  { q: "T√™n c·ªßa t√≤a th√°p kh·ªïng l·ªì n∆°i di·ªÖn ra tr√≤ ch∆°i SAO?", o: ["Aincrad", "Alfheim", "Gun Gale", "Underworld"], a: 0 },
  { q: "Bi·ªát danh c·ªßa Asuna trong SAO l√† g√¨?", o: ["Tia ch·ªõp (The Flash)", "H·∫Øc ki·∫øm sƒ©", "N·ªØ v∆∞∆°ng bƒÉng gi√°", "Ti√™n m·∫´u"], a: 0 },
  { q: "N·∫øu ng∆∞·ªùi ch∆°i ch·∫øt trong game SAO, ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ra ·ªü th·∫ø gi·ªõi th·ª±c?", o: ["B·ªã th∆∞∆°ng", "B·ªã ng·∫•t", "B·ªã ch·∫øt", "Kh√¥ng sao c·∫£"], a: 2 },
  { q: "Thanh ki·∫øm m√†u ƒëen c·ªßa Kirito t√™n l√† g√¨?", o: ["Elucidator", "Dark Repulser", "Lambent Light", "Blue Rose"], a: 0 },
  { q: "Ai l√† ng∆∞·ªùi t·∫°o ra tr√≤ ch∆°i sinh t·ª≠ SAO?", o: ["Sugou Nobuyuki", "Kayaba Akihiko", "Kikuoka Seijirou", "Kirito"], a: 1 },
  { q: "Trong ph·∫ßn GGO, Kirito s·ª≠ d·ª•ng v≈© kh√≠ n√†o k·∫øt h·ª£p v·ªõi s√∫ng?", o: ["Khi√™n", "Ki·∫øm √°nh s√°ng", "L·ª±u ƒë·∫°n", "Dao gƒÉm"], a: 1 },
  { q: "Con g√°i (AI) c·ªßa Kirito v√† Asuna t√™n l√† g√¨?", o: ["Suguha", "Yui", "Sinon", "Alice"], a: 1 },
  { q: "K·ªπ nƒÉng t·ªëi th∆∞·ª£ng gi√∫p Kirito chi·∫øn th·∫Øng boss t·∫ßng 74 l√† g√¨?", o: ["Tinh Qu·∫ø", "Starburst Stream", "Mother's Rosario", "Sonic Leap"], a: 1 },

  // ===== SPY X FAMILY (10) =====
  { q: "M·∫≠t danh c·ªßa Loid Forger (ng∆∞·ªùi cha) l√† g√¨?", o: ["Thorn Princess", "Twilight", "Daybreak", "Fullmetal"], a: 1 },
  { q: "Anya Forger c√≥ nƒÉng l·ª±c si√™u nhi√™n n√†o?", o: ["T√†ng h√¨nh", "ƒê·ªçc suy nghƒ©", "Nh√¨n th·∫•y t∆∞∆°ng lai", "Si√™u s·ª©c m·∫°nh"], a: 1 },
  { q: "Yor Forger (ng∆∞·ªùi m·∫π) l√†m ngh·ªÅ s√°t th·ªß v·ªõi bi·ªát danh l√† g√¨?", o: ["C√¥ng ch√∫a Gai", "G√≥a ph·ª• ƒëen", "S√°t th·ªß hoa h·ªìng", "N·ªØ ho√†ng b√≥ng ƒë√™m"], a: 0 },
  { q: "Con ch√≥ c·ªßa gia ƒë√¨nh Forger t√™n l√† g√¨?", o: ["Bond", "Max", "Lucky", "Rex"], a: 0 },
  { q: 'Anya ph·∫£i thu th·∫≠p bao nhi√™u "Sao Stella" ƒë·ªÉ tr·ªü th√†nh H·ªçc sinh ∆∞u t√∫?', o: ["5", "7", "8", "10"], a: 2 },
  { q: "M·ª•c ti√™u c·ªßa Chi·∫øn d·ªãch Strix l√† ti·∫øp c·∫≠n ai?", o: ["Damian Desmond", "Donovan Desmond", "Yuri Briar", "Franky"], a: 1 },
  { q: "Em trai c·ªßa Yor, Yuri, l√†m vi·ªác cho t·ªï ch·ª©c n√†o?", o: ["WISE", "C·∫£nh s√°t m·∫≠t (SSS)", "Garden", "CIA"], a: 1 },
  { q: "Anya c·ª±c k·ª≥ th√≠ch ƒÉn m√≥n g√¨?", o: ["B√°nh ng·ªçt", "L·∫°c (ƒê·∫≠u ph·ªông)", "C√† r·ªët", "X√∫c x√≠ch"], a: 1 },
  { q: "T√™n ng√¥i tr∆∞·ªùng m√† Anya theo h·ªçc l√† g√¨?", o: ["Eden Academy", "U.A. High", "PK Academy", "Loretto"], a: 0 },
  { q: "M√†u t√≥c c·ªßa Anya l√† m√†u g√¨?", o: ["V√†ng", "H·ªìng", "Xanh", "ƒêen"], a: 1 },

  // ===== TOKYO GHOUL (10) =====
  { q: "Nh√¢n v·∫≠t ch√≠nh Kaneki Ken b·ªã bi·∫øn th√†nh b√°n ng·∫° qu·ª∑ sau khi nh·∫≠n n·ªôi t·∫°ng t·ª´ ai?", o: ["Touka", "Rize", "Hinami", "Jason"], a: 1 },
  { q: "Ng·∫° qu·ª∑ (Ghoul) ch·ªâ c√≥ th·ªÉ ti√™u h√≥a ƒë∆∞·ª£c th·ª© g√¨ c·ªßa con ng∆∞·ªùi?", o: ["B√°nh m√¨", "Th·ªãt", "Rau c·ªß", "Tr√°i c√¢y"], a: 1 },
  { q: "ƒê·ªì u·ªëng duy nh·∫•t m√† Ghoul c√≥ th·ªÉ th∆∞·ªüng th·ª©c nh∆∞ ng∆∞·ªùi b√¨nh th∆∞·ªùng l√† g√¨?", o: ["Tr√†", "R∆∞·ª£u", "C√† ph√™", "S·ªØa"], a: 2 },
  { q: "V≈© kh√≠ sinh h·ªçc m√† c√°c thanh tra CCG s·ª≠ d·ª•ng ƒë·ªÉ ƒë·∫•u v·ªõi Ghoul g·ªçi l√† g√¨?", o: ["Kagune", "Quinque", "Arata", "Kakuja"], a: 1 },
  { q: "B·ªô ph·∫≠n chi·∫øn ƒë·∫•u ph√°t ra t·ª´ c∆° th·ªÉ Ghoul g·ªçi l√† g√¨?", o: ["Quinque", "Kagune", "Kakuja", "Rc Cells"], a: 1 },
  { q: "Qu√°n c√† ph√™ n∆°i Kaneki l√†m vi·ªác t√™n l√† g√¨?", o: ["Anteiku", "Helter Skelter", "Re:", "Ghoul Coffee"], a: 0 },
  { q: "Bi·ªát danh c·ªßa Kaneki sau khi t√≥c chuy·ªÉn sang m√†u tr·∫Øng l√† g√¨?", o: ["Th·ªè ƒëen", "BƒÉng ng·∫° qu·ª∑", "Ng·∫° qu·ª∑ ƒê·ªôc nh√£n", "R·∫øt"], a: 3 },
  { q: "M·∫∑t n·∫° c·ªßa Kaneki c√≥ ƒë·∫∑c ƒëi·ªÉm g√¨ n·ªïi b·∫≠t?", o: ["H√¨nh ƒë·∫ßu l√¢u", "C√≥ kh√≥a k√©o ·ªü mi·ªáng", "H√¨nh con th·ªè", "H√¨nh h·ªÅ"], a: 1 },
  { q: "Ai l√† thanh tra CCG ƒë√£ tra t·∫•n Kaneki khi·∫øn anh thay ƒë·ªïi t√¢m t√≠nh?", o: ["Amon", "Mado", "Jason (Yakumo Oomori)", "Arima"], a: 2 },
  { q: "T√°c gi·∫£ c·ªßa b·ªô truy·ªán Tokyo Ghoul l√† ai?", o: ["Sui Ishida", "Tatsuki Fujimoto", "Gege Akutami", "Tite Kubo"], a: 0 },

  // ===== HAIKYUU!! (10) =====
  { q: "Hinata Shoyo c√≥ bi·ªát danh l√† g√¨ tr√™n s√¢n ƒë·∫•u?", o: ["Vua s√¢n ƒë·∫•u", "Ng∆∞·ªùi kh·ªïng l·ªì t√≠ hon", "Qu√°i v·∫≠t bay", "M·ªìi nh·ª≠ vƒ© ƒë·∫°i"], a: 3 },
  { q: "Kageyama Tobio ch∆°i ·ªü v·ªã tr√≠ n√†o?", o: ["Ch·ªß c√¥ng", "Chuy·ªÅn hai (Setter)", "Libero", "Ph·ª• c√¥ng"], a: 1 },
  { q: "Tr∆∞·ªùng trung h·ªçc c·ªßa Hinata v√† Kageyama t√™n l√† g√¨?", o: ["Nekoma", "Aoba Johsai", "Karasuno", "Shiratorizawa"], a: 2 },
  { q: "Linh v·∫≠t bi·ªÉu t∆∞·ª£ng c·ªßa tr∆∞·ªùng Karasuno l√† con v·∫≠t n√†o?", o: ["M√®o", "Qu·∫°", "C√∫", "ƒê·∫°i b√†ng"], a: 1 },
  { q: "V·ªã tr√≠ chuy√™n v·ªÅ ph√≤ng th·ªß, m·∫∑c √°o kh√°c m√†u v·ªõi ƒë·ªìng ƒë·ªôi g·ªçi l√† g√¨?", o: ["Ace", "Libero", "Blocker", "Server"], a: 1 },
  { q: "Ai l√† ƒë·ªôi tr∆∞·ªüng c·ªßa ƒë·ªôi b√≥ng chuy·ªÅn Karasuno?", o: ["Sugawara", "Daichi Sawamura", "Tanaka", "Nishinoya"], a: 1 },
  { q: '"Vua s√¢n ƒë·∫•u" l√† bi·ªát danh ban ƒë·∫ßu c·ªßa ai?', o: ["Hinata", "Kageyama", "Oikawa", "Ushijima"], a: 1 },
  { q: "ƒê·ªôi b√≥ng ƒë·ªëi th·ªß truy·ªÅn ki·∫øp c·ªßa Karasuno, bi·ªÉu t∆∞·ª£ng l√† con m√®o?", o: ["Inarizaki", "Nekoma", "Date Tech", "Fukurodani"], a: 1 },
  { q: "Nishinoya Yu ch∆°i ·ªü v·ªã tr√≠ n√†o?", o: ["Libero", "Chuy·ªÅn hai", "Ch·ªß c√¥ng", "Ph·ª• c√¥ng"], a: 0 },
  { q: "C√∫ ƒë·∫≠p b√≥ng nhanh c·ªßa Hinata v√† Kageyama ƒë∆∞·ª£c g·ªçi l√† g√¨?", o: ["Minus Tempo", "God-like Quick", "Normal Quick", "Rolling Thunder"], a: 1 },

  // ===== BLEACH (10) =====
  { q: "V≈© kh√≠ c·ªßa c√°c T·ª≠ th·∫ßn (Shinigami) g·ªçi l√† g√¨?", o: ["Katana", "Zanpakuto", "Kunai", "Nichirin"], a: 1 },
  { q: "D·∫°ng gi·∫£i ph√≥ng th·ª© hai c·ªßa Zanpakuto g·ªçi l√† g√¨?", o: ["Shikai", "Bankai", "Resurrecci√≥n", "Vollst√§ndig"], a: 1 },
  { q: "Ichigo Kurosaki bi·∫øn th√†nh T·ª≠ th·∫ßn sau khi nh·∫≠n s·ª©c m·∫°nh t·ª´ ai?", o: ["Rukia Kuchiki", "Renji Abarai", "Byakuya Kuchiki", "Urahara Kisuke"], a: 0 },
  { q: "T·ªï ch·ª©c c·ªßa c√°c T·ª≠ th·∫ßn b·∫£o v·ªá Linh gi·ªõi t√™n l√† g√¨?", o: ["Akatsuki", "Gotei 13", "Espada", "Sternritter"], a: 1 },
  { q: "K·∫ª ph·∫£n di·ªán ƒë√£ ph·∫£n b·ªôi Gotei 13 v√† ƒë√°nh c·∫Øp kh·ªëi Hogyoku l√† ai?", o: ["Gin Ichimaru", "Sosuke Aizen", "Kaname Tosen", "Grimmjow"], a: 1 },
  { q: "Thanh ki·∫øm c·ªßa Ichigo c√≥ t√™n l√† g√¨?", o: ["Senbonzakura", "Zangetsu", "Hyorinmaru", "Zabimaru"], a: 1 },
  { q: "Espada l√† nh√≥m 10 Arrancar m·∫°nh nh·∫•t d∆∞·ªõi tr∆∞·ªõng ai?", o: ["Yhwach", "Aizen", "Ulquiorra", "Barragan"], a: 1 },
  { q: "Th√†nh ph·ªë n∆°i Ichigo sinh s·ªëng t√™n l√† g√¨?", o: ["Karakura", "Naruki", "Soul Society", "Hueco Mundo"], a: 0 },
  { q: "ƒê·ªôi tr∆∞·ªüng ƒë·ªôi 6, anh trai c·ªßa Rukia l√† ai?", o: ["Kenpachi", "Byakuya Kuchiki", "Shunsui", "Jushiro"], a: 1 },
  { q: "Ch·ªßng t·ªôc ƒë·ªëi ƒë·ªãch v·ªõi T·ª≠ th·∫ßn, s·ª≠ d·ª•ng cung t√™n b·∫±ng linh l·ª±c g·ªçi l√† g√¨?", o: ["Hollow", "Quincy", "Fullbringer", "Bount"], a: 1 },

  // ===== CHAINSAW MAN (10) =====
  { q: "Con qu·ª∑ c∆∞a nh·ªè b√©, b·∫°n th√¢n c·ªßa Denji t√™n l√† g√¨?", o: ["Power", "Pochita", "Aki", "Makima"], a: 1 },
  { q: "Denji l·∫≠p kh·∫ø ∆∞·ªõc v·ªõi Pochita ƒë·ªÉ tr·ªü th√†nh ng∆∞·ªùi c∆∞a b·∫±ng c√°ch n√†o?", o: ["ƒÇn th·ªãt", "Thay th·∫ø tr√°i tim", "B·∫Øt tay", "U·ªëng m√°u"], a: 1 },
  { q: "M√≥n ƒÉn m∆° ∆∞·ªõc c·ªßa Denji ·ªü ƒë·∫ßu phim l√† g√¨?", o: ["Ramen", "Sushi", "B√°nh m√¨ ph·∫øt m·ª©t", "B√≠t t·∫øt"], a: 2 },
  { q: "N·ªØ qu·ª∑ m√°u, c·ªông s·ª± hay g√¢y r·∫Øc r·ªëi c·ªßa Denji t√™n l√† g√¨?", o: ["Makima", "Power", "Reze", "Himeno"], a: 1 },
  { q: "Aki Hayakawa s·ª≠ d·ª•ng kh·∫ø ∆∞·ªõc v·ªõi qu·ª∑ n√†o ƒë·ªÉ tri·ªáu h·ªìi c√°i ƒë·∫ßu c√°o?", o: ["Qu·ª∑ C√°o (Kon)", "Qu·ª∑ T∆∞∆°ng Lai", "Qu·ª∑ Ki·∫øm", "Qu·ª∑ Nguy·ªÅn R·ªßa"], a: 0 },
  { q: "C·∫•p tr√™n b√≠ ·∫©n m√† Denji th·∫ßm y√™u l√† ai?", o: ["Power", "Makima", "Kobeni", "Himeno"], a: 1 },
  { q: "V·∫≠t nu√¥i c·ªßa Power l√† m·ªôt con g√¨?", o: ["Ch√≥", "M√®o (Nyako)", "Chim", "Chu·ªôt"], a: 1 },
  { q: "Ti·∫øng ƒë·ªông ph√°t ra khi Denji bi·∫øn h√¨nh th√†nh Ng∆∞·ªùi C∆∞a l√† g√¨?", o: ["Ti·∫øng n·ªï", "Ti·∫øng k√©o d√¢y kh·ªüi ƒë·ªông", "Ti·∫øng h√©t", "Ti·∫øng s·∫•m"], a: 1 },
  { q: "K·∫ª th√π m√† Aki cƒÉm gh√©t nh·∫•t v√¨ ƒë√£ gi·∫øt gia ƒë√¨nh anh l√† qu·ª∑ g√¨?", o: ["Qu·ª∑ C∆∞a", "Qu·ª∑ S√∫ng", "Qu·ª∑ D∆°i", "Qu·ª∑ Vƒ©nh C·ª≠u"], a: 1 },
  { q: "Denji l√†m vi·ªác cho t·ªï ch·ª©c n√†o?", o: ["C·∫£nh s√°t", "Tr·ªã an d√¢n s·ª± (Public Safety)", "Mafia", "Th·ª£ sƒÉn t·ª± do"], a: 1 },
];

    const animeGame = {
      _current: null,
      _used: new Set(),

      start(){
        openGame("ANIME MISSION", "Anime ‚Ä¢ 200 c√¢u");
        renderScoreboard();
        this._used.clear();
        this.nextQuestion();
      },

      nextQuestion(){
        if (!ANIME_BANK.length){
          setQuestionText("‚ö†Ô∏è B·∫°n ch∆∞a d√°n ANIME_BANK 200 c√¢u v√†o code.");
          document.getElementById("q-action").innerHTML = `
            <div style="margin-top:12px; color:var(--muted); text-align:center;">
              D√°n ANIME_BANK v√†o ƒë√∫ng v·ªã tr√≠ NOTE trong code.
            </div>
            <div style="margin-top:12px; display:flex; justify-content:center;">
              <button class="btn-confirm small" style="background:#444;" onclick="closeGame()">ƒê√ìNG</button>
            </div>
          `;
          return;
        }

        if (this._used.size >= ANIME_BANK.length) this._used.clear();

        let idx=-1, safety=0;
        do{
          idx = Math.floor(Math.random()*ANIME_BANK.length);
          safety++;
          if (safety>2000) break;
        } while(this._used.has(idx));

        this._used.add(idx);
        this._current = ANIME_BANK[idx];

        setQuestionText(this._current.q);

        const opts = (this._current.o || []).map((text, i)=>{
          return `<button class="btn-confirm small" style="background:rgba(255,255,255,.08); color:var(--txt); border:1px solid rgba(255,255,255,.14); box-shadow:none;" onclick="animeGame.choose(${i})">${text}</button>`;
        }).join("");

        document.getElementById("q-action").innerHTML = `
          <div style="margin-top:12px; display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            ${opts}
          </div>
          <div style="margin-top:12px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
            <button class="btn-confirm small" onclick="animeGame.nextQuestion()">C√ÇU KH√ÅC</button>
            <button class="btn-confirm small" style="background:#444;" onclick="closeGame()">ƒê√ìNG</button>
          </div>
        `;
      },

      choose(i){
        const correct = (i === this._current.a);
        addScore(correct ? 10 : -5);
        renderScoreboard();
        toast(correct ? "‚úÖ ƒê√∫ng! +10 ƒëi·ªÉm" : `‚ùå Sai! (-5 ƒëi·ªÉm)`);
        setTimeout(()=>this.nextQuestion(), 850);
      }
    };
  </script>
</body>
</html>
